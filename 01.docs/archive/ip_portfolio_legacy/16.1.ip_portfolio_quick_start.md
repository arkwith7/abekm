# IPC 권한 관리 시스템 - 빠른 시작 가이드

> **반도체 장비 업종 IP 포트폴리오 구축**  
> **작성일**: 2026-01-04

---

## 🚀 5분 안에 시작하기

### 1단계: 데이터베이스 테이블 생성 (이미 완료)

IPC 권한 관리 테이블이 이미 생성되어 있습니다:
- ✅ `tb_ipc_code` - IPC 코드 마스터 테이블
- ✅ `tb_ipc_permissions` - IPC 권한 테이블

### 2단계: IPC 코드 마스터 데이터 적재

```bash
cd /home/arkwith/Dev/abekm/backend
python scripts/load_ipc_codes.py
```

**적재되는 데이터** (23개 IPC 코드):
- H 섹션 (전기): 11개 - 반도체 제조 장비
- G 섹션 (물리학): 3개 - 검사/측정 장비
- B 섹션 (처리 조작): 3개 - 핸들링/CMP
- C 섹션 (화학): 3개 - 증착/코팅

### 3단계: IPC 권한 초기 데이터 적재

```bash
cd /home/arkwith/Dev/abekm/backend
python scripts/load_ipc_permissions.py
```

**적재되는 권한** (12개):
- admin001: H, G, B, C 섹션 (ADMIN)
- tech001: H01L, H05H (EDITOR)
- tech002: G01N, G01B (EDITOR)
- tech003: B24B, C23C (EDITOR)
- user001, user002: 세부 공정 (VIEWER)

### 4단계: 데이터 검증

```bash
cd /home/arkwith/Dev/abekm/backend
python scripts/verify_ipc_data.py
```

**검증 항목**:
- ✅ IPC 코드 수 및 분포
- ✅ 권한 할당 현황
- ✅ 역할별/사용자별 통계
- ✅ 데이터 품질 (중복, 고아 권한 등)

### 5단계: 프론트엔드 접속

1. 브라우저에서 http://localhost:3000 접속
2. 관리자 계정으로 로그인 (admin001)
3. 좌측 메뉴: 관리자 → **IPC 권한 관리** 클릭
4. IPC 권한 목록 확인 및 관리

---

## 📊 주요 기능

### IPC 권한 관리 페이지 (`/admin/ipc-permissions`)

**기능**:
- ✅ IPC 권한 목록 조회 (페이징 20개/페이지)
- ✅ 필터링: 사번, IPC 코드, 역할, 활성 상태
- ✅ 신규 권한 생성 (사용자 선택, IPC 코드 입력, 역할 선택)
- ✅ 권한 수정 (역할 변경, 활성화/비활성화)
- ✅ 권한 삭제 (확인 다이얼로그)
- ✅ 실시간 알림 (성공/에러 메시지)

**역할 정의**:
- **ADMIN**: 관리자 (전체 권한, 특허 CRUD)
- **EDITOR**: 편집자 (특허 수정 가능, 삭제 불가)
- **VIEWER**: 조회자 (특허 조회만 가능)

---

## 🎯 반도체 장비 업종 IPC 코드 체계

### 핵심 기술 분야

| IPC 섹션 | 명칭 | 비중 | 대표 코드 |
|----------|------|------|----------|
| **H** | 전기 | 71% | H01L (반도체 소자), H05H (플라즈마) |
| **G** | 물리학 | 18% | G01N (검사), G01B (측정) |
| **B** | 처리 조작 | 7% | B24B (CMP), B08B (세정) |
| **C** | 화학 | 4% | C23C (CVD/PVD) |

### 상세 IPC 코드 매핑

#### H01L (반도체 소자) - 핵심 특허군
```
H01L21/00 - 반도체 제조 공정 (포토, 에칭, 증착)
H01L21/67 - 반도체 장치 제조 장비
H01L21/677 - 웨이퍼 이동 장치 (핸들러, 로봇)
H01L21/683 - 웨이퍼 처리 챔버 (진공 챔버)
```

#### G01N (검사) - 품질 관리
```
G01N21/95 - 반도체 웨이퍼 광학 검사 (결함 검출)
```

#### B24B (연마) - CMP 장비
```
B24B37/04 - CMP 장치 (화학적 기계적 연마)
```

#### C23C (코팅) - 증착 장비
```
C23C16/00 - CVD (화학 기상 증착)
C23C14/00 - PVD (물리 기상 증착)
```

---

## 🔧 권한 할당 시나리오

### 시나리오 1: 신규 팀원 온보딩

**상황**: 반도체 제조팀에 신입 엔지니어(user003) 입사

**권한 할당**:
1. IPC 권한 관리 페이지 접속
2. "권한 생성" 버튼 클릭
3. 입력:
   - 사용자: user003
   - IPC 코드: H01L21/00 (제조 공정)
   - 역할: VIEWER (조회 전용)
4. 저장

**결과**: user003은 H01L21/00 공정 특허만 조회 가능

### 시나리오 2: 기술 분야 변경

**상황**: tech001이 플라즈마 팀에서 검사 팀으로 이동

**권한 조정**:
1. 기존 권한 비활성화:
   - H01L (EDITOR) → 비활성화
   - H05H (EDITOR) → 비활성화
2. 신규 권한 생성:
   - G01N (EDITOR) 추가
   - G01B (EDITOR) 추가

**결과**: tech001은 검사/측정 분야 특허 편집 가능

### 시나리오 3: 프로젝트 매니저 권한 승급

**상황**: tech002를 프로젝트 리더로 승진

**권한 조정**:
1. 기존 권한 역할 변경:
   - G01N: EDITOR → ADMIN
   - G01B: EDITOR → ADMIN
2. 추가 섹션 권한 부여:
   - H 섹션 (ADMIN) 추가

**결과**: tech002는 검사 분야 전체 관리 + 반도체 제조 특허 접근

---

## 📝 CSV 파일 수동 편집 (대량 적재)

### IPC 코드 추가 예시

**파일**: `/home/arkwith/Dev/abekm/backend/data/ipc_codes_semiconductor.csv`

```csv
# 신규 IPC 코드 추가 (예: ALD 증착)
C23C16/455,C,23,C,16,455,"원자층 증착 (ALD)","Atomic Layer Deposition (ALD)",true
```

**적재**:
```bash
python scripts/load_ipc_codes.py  # 기존 데이터 삭제 후 재로드
```

### 권한 대량 할당 예시

**파일**: `/home/arkwith/Dev/abekm/backend/data/ipc_permissions_initial.csv`

```csv
# 신규 팀원 10명에게 동일 권한 부여
user010,H01L21/00,VIEWER,SYSTEM
user011,H01L21/00,VIEWER,SYSTEM
user012,H01L21/00,VIEWER,SYSTEM
...
```

**적재**:
```bash
python scripts/load_ipc_permissions.py
```

---

## 🚨 트러블슈팅

### 문제 1: "IPC 코드가 없습니다" 에러

**원인**: tb_ipc_code 테이블이 비어있음

**해결**:
```bash
cd /home/arkwith/Dev/abekm/backend
python scripts/load_ipc_codes.py
```

### 문제 2: 프론트엔드 404 에러

**원인**: 백엔드 서버 미실행 또는 health check 엔드포인트 오류

**해결**:
```bash
# 백엔드 컨테이너 재시작
cd /home/arkwith/Dev/abekm
docker compose restart backend

# 백엔드 로그 확인
docker compose logs -f backend
```

### 문제 3: IPC 권한 목록이 비어있음

**원인**: tb_ipc_permissions 테이블이 비어있음

**해결**:
```bash
cd /home/arkwith/Dev/abekm/backend
python scripts/load_ipc_permissions.py
python scripts/verify_ipc_data.py  # 검증
```

### 문제 4: 사용자가 IPC 코드 선택 불가

**원인**: tb_ipc_code 데이터 미존재 또는 is_active=false

**해결**:
```sql
-- PostgreSQL에서 직접 확인
SELECT ipc_code, korean_name, is_active FROM tb_ipc_code WHERE is_active = true;

-- 모든 IPC 코드 활성화
UPDATE tb_ipc_code SET is_active = true;
```

---

## 📚 관련 문서

- 📄 [16.ip_portfolio_ipc_management.md](./16.ip_portfolio_ipc_management.md) - 전체 시스템 설계 문서
- 📄 [IP_포트폴리오_IPC_중심_전환_분석.md](./IP_포트폴리오_IPC_중심_전환_분석.md) - IPC 전환 분석
- 📄 [별첨02_IPBridge_초기데이터_설정가이드_v2.md](./별첨02_IPBridge_초기데이터_설정가이드_v2.md) - 초기 데이터 가이드

---

## 🎉 다음 단계

### 단기 확장 (1-2개월)
- [ ] IP 포트폴리오 대시보드 구현
- [ ] IPC 트리 네비게이션 UI
- [ ] 특허 검색 (IPC 필터)

### 중기 확장 (3-6개월)
- [ ] CPC 코드 통합
- [ ] 특허 인용 네트워크 분석
- [ ] AI 기반 특허 분류

### 장기 확장 (6개월 이상)
- [ ] 글로벌 특허청 연동 (USPTO, EPO)
- [ ] 경쟁사 특허 모니터링
- [ ] 특허 가치 평가 모델

---

**작성**: AI 시스템  
**업데이트**: 2026-01-04  
**문의**: 시스템 관리팀
