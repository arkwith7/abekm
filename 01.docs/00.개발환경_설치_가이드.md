# ABEKM ê°œë°œí™˜ê²½ ì„¤ì¹˜ ê°€ì´ë“œ

> **ë¬¸ì„œ ì •ë³´**
>
> - **ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-12-15
>
> - **ëŒ€ìƒ**: ì‹ ê·œ ê°œë°œì, DevOps ì—”ì§€ë‹ˆì–´, ì‹œìŠ¤í…œ ê´€ë¦¬ì
> - **ì£¼ìš” ë³€ê²½**: Docker ë°°í¬ í™˜ê²½ ê°œì„ , ë°ì´í„°ë² ì´ìŠ¤ ìë™ ì´ˆê¸°í™”, í™˜ê²½ ë³€ìˆ˜ êµ¬ì¡° ê°œì„ 

---

## ğŸ“‹ ëª©ì°¨

1. [ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­ ë° ê°œìš”](#1-ì‹œìŠ¤í…œ-ìš”êµ¬ì‚¬í•­-ë°-ê°œìš”)
2. [OSë³„ ì„¤ì¹˜ ê°€ì´ë“œ](#2-osë³„-ì„¤ì¹˜-ê°€ì´ë“œ)
3. [í•„ìˆ˜ ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ì¹˜](#3-í•„ìˆ˜-ì†Œí”„íŠ¸ì›¨ì–´-ì„¤ì¹˜)
4. [í”„ë¡œì íŠ¸ ì„¤ì •](#4-í”„ë¡œì íŠ¸-ì„¤ì •)
5. [ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™”](#5-ë°ì´í„°ë² ì´ìŠ¤-ì´ˆê¸°í™”)
6. [Docker í™˜ê²½ êµ¬ì„±](#6-docker-í™˜ê²½-êµ¬ì„±)
7. [ê°œë°œ í™˜ê²½ ì‹¤í–‰ ë° ê²€ì¦](#7-ê°œë°œ-í™˜ê²½-ì‹¤í–‰-ë°-ê²€ì¦)
8. [ë¬¸ì œ í•´ê²°](#8-ë¬¸ì œ-í•´ê²°)
9. [ì„¤ì¹˜ í›„ í™˜ê²½ ê²€ì¦ ë° ì²´í¬ë¦¬ìŠ¤íŠ¸](#9-ì„¤ì¹˜-í›„-í™˜ê²½-ê²€ì¦-ë°-ì²´í¬ë¦¬ìŠ¤íŠ¸)
10. [ì¶”ê°€ ì°¸ê³  ë¬¸ì„œ](#10-ì¶”ê°€-ì°¸ê³ -ë¬¸ì„œ)
11. [Docker ë°°í¬ í™˜ê²½ ê°œì„  ì‚¬í•­ (2025-12-15)](#11-docker-ë°°í¬-í™˜ê²½-ê°œì„ -ì‚¬í•­-2025-12-15)

---

## 1. ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­ ë° ê°œìš”

### 1.1 í”„ë¡œì íŠ¸ ê°œìš”

**ABEKM (AI Based Enterprise Knowledge Management)** ë˜ëŠ” **InsightBridge**ëŠ” AI ê¸°ë°˜ ê¸°ì—… ì§€ì‹ê´€ë¦¬ í”Œë«í¼ì…ë‹ˆë‹¤.

**í•µì‹¬ ê¸°ëŠ¥**:
- ğŸ“„ **ë‹¤ì–‘í•œ ë¬¸ì„œ ì²˜ë¦¬**: PDF, PPT, Word, í•œê¸€(HWP), ì´ë¯¸ì§€ OCR
- ğŸ§  **AI ì§€ì‹ ìƒì„±**: ë©€í‹° ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ ê¸°ë°˜ ìë™ ìš”ì•½ ë° ë¶„ì„
- ğŸ” **í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰**: ë²¡í„° ê²€ìƒ‰(ì˜ë¯¸) + ì „ë¬¸ ê²€ìƒ‰(í‚¤ì›Œë“œ)
- ğŸ’¬ **RAG ê¸°ë°˜ Q&A**: AWS Bedrock/Azure OpenAI/OpenAI ë©€í‹° í”„ë¡œë°”ì´ë”
- ğŸ¤ **ì‹¤ì‹œê°„ ìŒì„± ì¸ì‹**: AWS Transcribe ê¸°ë°˜ STT
- ğŸ‘¥ **ê¶Œí•œ ê´€ë¦¬**: SAP ì—°ë™ RBAC

### 1.2 ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­

#### ìµœì†Œ ì‚¬ì–‘

- **CPU**: 2 Core ì´ìƒ
- **ë©”ëª¨ë¦¬**: 8GB ì´ìƒ (ê¶Œì¥: 16GB)
- **ë””ìŠ¤í¬**: 100GB ì´ìƒ ì—¬ìœ  ê³µê°„
- **OS**: Amazon Linux 2023, Debian 12, Ubuntu 20.04/22.04

#### ê¶Œì¥ ì‚¬ì–‘

- **CPU**: 4 Core ì´ìƒ
- **ë©”ëª¨ë¦¬**: 16GB ì´ìƒ
- **ë””ìŠ¤í¬**: 100GB ì´ìƒ SSD
- **ë„¤íŠ¸ì›Œí¬**: ê³ ì† ì¸í„°ë„· ì—°ê²° (AI ì„œë¹„ìŠ¤ API í˜¸ì¶œìš©)

### 1.3 ê¸°ìˆ  ìŠ¤íƒ

| êµ¬ë¶„            | ê¸°ìˆ                                 | ë²„ì „    |
| ------------- | --------------------------------- | ----- |
| **Backend**   | FastAPI (Python)                  | 3.11+ |
| **Frontend**  | React + TypeScript                | 18+   |
| **Database**  | PostgreSQL + pgvector             | 15+   |
| **Cache**     | Redis                             | 7+    |
| **Container** | Docker, Docker Compose            | ìµœì‹     |
| **ë¬¸ì„œ ì²˜ë¦¬**     | LibreOffice                       | 7.x+  |
| **AI/ML**     | AWS Bedrock, Azure OpenAI, OpenAI | -     |

---

## 2. OSë³„ ì„¤ì¹˜ ê°€ì´ë“œ

### 2.1 Amazon Linux 2023 (ê¶Œì¥)

Amazon Linux 2023ì€ AWS EC2 ì¸ìŠ¤í„´ìŠ¤ì— ìµœì í™”ëœ ë°°í¬íŒì…ë‹ˆë‹¤.

#### 2.1.1 ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸

```bash
# Amazon LinuxëŠ” dnf íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ì‚¬ìš© (yumë„ í˜¸í™˜)
sudo dnf update -y
```

#### 2.1.2 í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜

```bash
# ê°œë°œ ë„êµ¬ ê·¸ë£¹ ì„¤ì¹˜
sudo dnf groupinstall -y "Development Tools"

# í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜
sudo dnf install -y \
    python3 \
    python3-pip \
    python3-devel \
    git \
    curl \
    unzip \
    wget \
    postgresql-devel \
    gcc \
    gcc-c++ \
    make \
    openssl-devel \
    libffi-devel \
    sqlite-devel
```

**ìƒì„¸ ê°€ì´ë“œ**: [amazon-linux-2023-ê°œë°œí™˜ê²½ì„¤ì¹˜ê°€ì´ë“œ.md](./amazon-linux-2023-ê°œë°œí™˜ê²½ì„¤ì¹˜ê°€ì´ë“œ.md)

### 2.2 Debian 12

Debian 12ëŠ” ì•ˆì •ì„±ì´ ë›°ì–´ë‚œ ì„œë²„ ìš´ì˜ ì²´ì œì…ë‹ˆë‹¤.

#### 2.2.1 ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸

```bash
sudo apt-get update
sudo apt-get upgrade -y
```

#### 2.2.2 í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜

```bash
sudo apt-get install -y \
    python3 \
    python3-pip \
    python3-venv \
    python3-dev \
    git \
    curl \
    wget \
    build-essential \
    libpq-dev \
    libssl-dev \
    libffi-dev
```

**ìƒì„¸ ê°€ì´ë“œ**: [ë³„ì²¨04_Azure_to_AWS_ë§ˆì´ê·¸ë ˆì´ì…˜_ë¶€ë¡.md](./ë³„ì²¨04_Azure_to_AWS_ë§ˆì´ê·¸ë ˆì´ì…˜_ë¶€ë¡.md) (H-1 ì„¹ì…˜)

### 2.3 Ubuntu 20.04/22.04

UbuntuëŠ” ê°œë°œì ì¹œí™”ì ì¸ ë°°í¬íŒì…ë‹ˆë‹¤.

#### 2.3.1 ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸

```bash
# ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸
sudo apt update && sudo apt upgrade -y
```

#### 2.3.2 Python 3.11 ì„¤ì¹˜

Ubuntu 22.04ì—ëŠ” Python 3.11ì´ ê¸°ë³¸ ì œê³µë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì¶”ê°€ ì €ì¥ì†Œê°€ í•„ìš”í•©ë‹ˆë‹¤.

```bash
# Python 3.11 PPA ì €ì¥ì†Œ ì¶”ê°€
sudo add-apt-repository ppa:deadsnakes/ppa -y
sudo apt update

# Python 3.11 ë° í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜
sudo apt install -y \
    python3.11 \
    python3.11-venv \
    python3.11-dev \
    python3-pip \
    git \
    curl \
    build-essential \
    libpq-dev

# ë²„ì „ í™•ì¸
python3.11 --version
# ì¶œë ¥: Python 3.11.x
```

#### 2.3.3 Python 3.11 apt_pkg í˜¸í™˜ì„± ë¬¸ì œ í•´ê²°

Python 3.11 ì„¤ì¹˜ í›„ ì¼ë¶€ ì‹œìŠ¤í…œ ë„êµ¬ì—ì„œ apt_pkg ëª¨ë“ˆ ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
# Python 3.10ì˜ apt_pkgë¥¼ 3.11ë¡œ ì‹¬ë³¼ë¦­ ë§í¬
sudo ln -sf /usr/lib/python3/dist-packages/apt_pkg.cpython-310-x86_64-linux-gnu.so \
    /usr/lib/python3/dist-packages/apt_pkg.so

# ë˜ëŠ” python3.11 ë””ë ‰í† ë¦¬ê°€ ì—†ëŠ” ê²½ìš° ìƒì„±
sudo mkdir -p /usr/lib/python3.11/dist-packages
sudo ln -sf /usr/lib/python3/dist-packages/apt_pkg.cpython-310-x86_64-linux-gnu.so \
    /usr/lib/python3.11/dist-packages/apt_pkg.cpython-311-x86_64-linux-gnu.so

# í™•ì¸
python3.11 -c "import apt_pkg; print('apt_pkg ë¡œë“œ ì„±ê³µ')"
```

#### 2.3.4 í•„ìˆ˜ ê°œë°œ ë„êµ¬ ì„¤ì¹˜

```bash
# ë¹Œë“œ ë„êµ¬ ë° ë¼ì´ë¸ŒëŸ¬ë¦¬
sudo apt install -y \
    gcc \
    g++ \
    make \
    cmake \
    pkg-config \
    libssl-dev \
    libffi-dev \
    libbz2-dev \
    libreadline-dev \
    libsqlite3-dev \
    zlib1g-dev
```

---

## 3. í•„ìˆ˜ ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ì¹˜

### 3.1 Python 3.11 ì„¤ì¹˜ ë° ì„¤ì •

#### Amazon Linux 2023

```bash
# Python 3.11 ì„¤ì¹˜
sudo dnf install -y python3.11 python3.11-pip python3.11-devel

# alternativesë¥¼ ì‚¬ìš©í•˜ì—¬ ê¸°ë³¸ python3ë¥¼ 3.11ë¡œ ì„¤ì •
sudo alternatives --install /usr/bin/python3 python3 /usr/bin/python3.9 1
sudo alternatives --install /usr/bin/python3 python3 /usr/bin/python3.11 2
sudo alternatives --config python3  # 2ë²ˆ ì„ íƒ

# ë²„ì „ í™•ì¸
python3 --version
# ì¶œë ¥: Python 3.11.x
```

#### Debian/Ubuntu

```bash
# Python 3.11 ì„¤ì¹˜
sudo apt install -y python3.11 python3.11-venv python3.11-dev

# ê¸°ë³¸ python3 ì„¤ì •
sudo update-alternatives --install /usr/bin/python3 python3 /usr/bin/python3.11 1

# ë²„ì „ í™•ì¸
python3 --version
```

#### pyenv ì‚¬ìš© (ê°œë°œì ê¶Œì¥)

```bash
# pyenv ì˜ì¡´ì„± ì„¤ì¹˜
sudo dnf install -y make gcc zlib-devel bzip2-devel readline-devel \
    sqlite-devel openssl-devel tk-devel libffi-devel xz-devel

# pyenv ì„¤ì¹˜
curl https://pyenv.run | bash

# ì‰˜ ì„¤ì • ì¶”ê°€
echo 'export PYENV_ROOT="$HOME/.pyenv"' >> ~/.bashrc
echo 'command -v pyenv >/dev/null || export PATH="$PYENV_ROOT/bin:$PATH"' >> ~/.bashrc
echo 'eval "$(pyenv init -)"' >> ~/.bashrc
source ~/.bashrc

# Python 3.11 ì„¤ì¹˜
pyenv install 3.11.9
pyenv global 3.11.9

# í™•ì¸
python --version
```

### 3.2 Docker ë° Docker Compose ì„¤ì¹˜

#### Amazon Linux 2023

```bash
# Docker ì„¤ì¹˜
sudo dnf install -y docker

# Docker ì„œë¹„ìŠ¤ ì‹œì‘ ë° ìë™ ì‹œì‘ ì„¤ì •
sudo systemctl start docker
sudo systemctl enable docker

# Docker ë²„ì „ í™•ì¸
docker --version

# Docker Compose Plugin ì„¤ì¹˜
sudo mkdir -p /usr/local/lib/docker/cli-plugins
sudo curl -SL https://github.com/docker/compose/releases/download/v2.39.2/docker-compose-linux-x86_64 \
    -o /usr/local/lib/docker/cli-plugins/docker-compose
sudo chmod +x /usr/local/lib/docker/cli-plugins/docker-compose

# ë²„ì „ í™•ì¸
docker compose version
```

#### Debian/Ubuntu

```bash
# Docker ì„¤ì¹˜
sudo apt-get update
sudo apt-get install -y ca-certificates curl gnupg lsb-release

# Docker GPG í‚¤ ì¶”ê°€
sudo mkdir -p /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg

# Docker ì €ì¥ì†Œ ì¶”ê°€ (Ubuntuìš©)
echo \
  "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \
  $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

# Docker ì„¤ì¹˜
sudo apt-get update
sudo apt-get install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin

# ë²„ì „ í™•ì¸
docker --version
# ì¶œë ¥ ì˜ˆì‹œ: Docker version 29.1.2, build 2c349c0

docker compose version
# ì¶œë ¥ ì˜ˆì‹œ: Docker Compose version v5.0.0
```

#### Docker ì‚¬ìš©ì ê·¸ë£¹ ì„¤ì • (í•„ìˆ˜)

```bash
# í˜„ì¬ ì‚¬ìš©ìë¥¼ docker ê·¸ë£¹ì— ì¶”ê°€
sudo usermod -aG docker $USER

# ê·¸ë£¹ ë³€ê²½ ì ìš©
newgrp docker

# ë˜ëŠ” ì™„ì „í•œ ì¬ë¡œê·¸ì¸
# exit í›„ ë‹¤ì‹œ SSH ì ‘ì†

# Docker ë™ì‘ í™•ì¸
docker run hello-world
```

### 3.3 PostgreSQL í´ë¼ì´ì–¸íŠ¸ ì„¤ì¹˜ (ì„ íƒì‚¬í•­)

ë¡œì»¬ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ ì ‘ê·¼ì´ í•„ìš”í•œ ê²½ìš°:

```bash
# Amazon Linux
sudo dnf install -y postgresql15

# Debian/Ubuntu
sudo apt install -y postgresql-client-15

# ë²„ì „ í™•ì¸
psql --version
```

### 3.4 Redis ì„¤ì¹˜ (ì„ íƒì‚¬í•­)

ë¡œì»¬ Redisê°€ í•„ìš”í•œ ê²½ìš°:

```bash
# Amazon Linux
sudo dnf install -y epel-release
sudo dnf install -y redis
sudo systemctl start redis
sudo systemctl enable redis

# Debian/Ubuntu
sudo apt install -y redis-server
sudo systemctl start redis-server
sudo systemctl enable redis-server

# ì—°ê²° í…ŒìŠ¤íŠ¸
redis-cli ping
```

### 3.5 LibreOffice ë° í•œê¸€ í°íŠ¸ ì„¤ì¹˜

ë¬¸ì„œ ë³€í™˜ ë° ë·°ì–´ ê¸°ëŠ¥ì„ ìœ„í•´ í•„ìˆ˜ì…ë‹ˆë‹¤.

#### Amazon Linux 2023

```bash
# EPEL ì €ì¥ì†Œ í™œì„±í™”
sudo dnf install -y epel-release

# LibreOffice ì„¤ì¹˜
sudo dnf install -y \
    libreoffice-core \
    libreoffice-writer \
    libreoffice-calc \
    libreoffice-impress \
    libreoffice-headless \
    libreoffice-java-common

# Java Runtime Environment (LibreOffice í•„ìˆ˜)
sudo dnf install -y java-11-openjdk java-11-openjdk-headless

# ì„¤ì¹˜ í™•ì¸
libreoffice --version
java -version
```

#### Debian/Ubuntu

```bash
# LibreOffice ë° ë¬¸ì„œ ì²˜ë¦¬ ë„êµ¬ ì„¤ì¹˜
sudo apt install -y \
    libreoffice \
    libreoffice-writer \
    libreoffice-calc \
    libreoffice-impress \
    libreoffice-java-common \
    poppler-utils \
    tesseract-ocr \
    tesseract-ocr-kor \
    default-jre \
    fonts-liberation

# ì„¤ì¹˜ í™•ì¸
libreoffice --version
# ì¶œë ¥ ì˜ˆì‹œ: LibreOffice 7.3.7.2 00(Build:2)

# LibreOffice ê²½ë¡œ í™•ì¸
which libreoffice
# ì¶œë ¥: /usr/bin/libreoffice

# Tesseract OCR í™•ì¸ (í•œêµ­ì–´ ì§€ì›)
tesseract --list-langs | grep kor
# ì¶œë ¥: kor
```

**ì„¤ì¹˜ëœ ë„êµ¬ ì„¤ëª…**:
- `libreoffice`: ë¬¸ì„œ ë³€í™˜ ë° ì²˜ë¦¬ (DOCX â†’ PDF, PPT â†’ PDF ë“±)
- `poppler-utils`: PDF ì¡°ì‘ ë„êµ¬ (`pdfinfo`, `pdftotext` ë“±)
- `tesseract-ocr`: OCR (ê´‘í•™ ë¬¸ì ì¸ì‹) ì—”ì§„
- `tesseract-ocr-kor`: í•œêµ­ì–´ OCR ì§€ì›

#### í•œê¸€ í°íŠ¸ ì„¤ì¹˜ (í•„ìˆ˜ - ë¬¸ì„œ ë·°ì–´ í•œêµ­ì–´ ì§€ì›)

LibreOfficeë¥¼ í†µí•´ Office ë¬¸ì„œ(DOCX, PPTX ë“±)ë¥¼ PDFë¡œ ë³€í™˜í•  ë•Œ **í•œêµ­ì–´ í°íŠ¸ê°€ ì—†ìœ¼ë©´ ê¸€ìê°€ ê¹¨ì§‘ë‹ˆë‹¤.**
ë°˜ë“œì‹œ ì•„ë˜ í°íŠ¸ë¥¼ ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.

```bash
# ================================================================
# Debian/Ubuntu - ê¶Œì¥ ì„¤ì¹˜ ë°©ë²•
# ================================================================

# Noto CJK í°íŠ¸ (Google ë‹¤êµ­ì–´ í°íŠ¸ - í•œì¤‘ì¼ ì§€ì›)
sudo apt-get install -y \
    fonts-noto-cjk \
    fonts-noto-cjk-extra

# ë‚˜ëˆ” í°íŠ¸ (ë„¤ì´ë²„ ì œê³µ í•œê¸€ í°íŠ¸)
sudo apt-get install -y \
    fonts-nanum \
    fonts-nanum-coding \
    fonts-nanum-extra

# ì¶”ê°€ í•œê¸€ í°íŠ¸ (ì„ íƒì‚¬í•­)
sudo apt-get install -y \
    fonts-baekmuk \
    fonts-unfonts-core \
    fonts-unfonts-extra

# í•œê¸€ ë¡œì¼€ì¼ ìƒì„± (í•„ìˆ˜)
sudo locale-gen ko_KR.UTF-8
sudo update-locale LANG=ko_KR.UTF-8

# í°íŠ¸ ìºì‹œ ì—…ë°ì´íŠ¸
sudo fc-cache -fv

# ================================================================
# í•œê¸€ í°íŠ¸ ì„¤ì¹˜ í™•ì¸
# ================================================================

# í•œêµ­ì–´ ì§€ì› í°íŠ¸ ëª©ë¡ í™•ì¸
fc-list :lang=ko | head -20
# ì˜ˆìƒ ì¶œë ¥:
# /usr/share/fonts/truetype/nanum/NanumGothic.ttf: NanumGothic,ë‚˜ëˆ”ê³ ë”•:style=Regular
# /usr/share/fonts/opentype/noto/NotoSansCJK-Regular.ttc: Noto Sans CJK KR:style=Regular
# ...

# íŠ¹ì • í°íŠ¸ í™•ì¸
fc-list | grep -E "(Noto.*KR|Nanum|ë‚˜ëˆ”)"
```

```bash
# ================================================================
# Amazon Linux 2023 - ìˆ˜ë™ ì„¤ì¹˜ ë°©ë²•
# ================================================================

# í•œê¸€ í°íŠ¸ ë””ë ‰í† ë¦¬ ìƒì„±
sudo mkdir -p /usr/share/fonts/truetype/korean

# Noto Sans CJK í°íŠ¸ ë‹¤ìš´ë¡œë“œ (Google Fonts)
cd /tmp
wget -O NotoSansCJKkr.zip https://github.com/googlefonts/noto-cjk/releases/download/Sans2.004/03_NotoSansCJK-OTC.zip
unzip NotoSansCJKkr.zip -d noto-sans-cjk

# ë˜ëŠ” ê°œë³„ í°íŠ¸ ë‹¤ìš´ë¡œë“œ
wget https://github.com/google/fonts/raw/main/ofl/notosanscjkkr/NotoSansCJKkr%5Bwght%5D.ttf
wget https://github.com/google/fonts/raw/main/ofl/notoserifcjkkr/NotoSerifCJKkr%5Bwght%5D.ttf

# í°íŠ¸ ì„¤ì¹˜
sudo mv "NotoSansCJKkr[wght].ttf" /usr/share/fonts/truetype/korean/NotoSansCJKkr.ttf
sudo mv "NotoSerifCJKkr[wght].ttf" /usr/share/fonts/truetype/korean/NotoSerifCJKkr.ttf
sudo chmod 644 /usr/share/fonts/truetype/korean/*.ttf

# ë‚˜ëˆ” í°íŠ¸ ë‹¤ìš´ë¡œë“œ (ë„¤ì´ë²„)
wget https://github.com/naver/nanumfont/releases/download/VER2.5/NanumFontSetup_OTF_GOTHIC.zip
unzip NanumFontSetup_OTF_GOTHIC.zip -d nanum-gothic
sudo cp nanum-gothic/*.otf /usr/share/fonts/truetype/korean/

# í•œê¸€ ë¡œì¼€ì¼ ìƒì„±
sudo localedef -i ko_KR -f UTF-8 ko_KR.UTF-8

# í°íŠ¸ ìºì‹œ ì—…ë°ì´íŠ¸
sudo fc-cache -fv

# ì„¤ì¹˜ í™•ì¸
fc-list :lang=ko | head -10
```

**âš ï¸ ì¤‘ìš”: í°íŠ¸ ì„¤ì¹˜ í›„ ë°˜ë“œì‹œ í•´ì•¼ í•  ì‘ì—…**

```bash
# 1. ê¸°ì¡´ PDF ìºì‹œ ì‚­ì œ (ì´ì „ì— ê¹¨ì§„ ìƒíƒœë¡œ ìºì‹œëœ íŒŒì¼ ì œê±°)
rm -rf /home/admin/Dev/abekm/backend/uploads/pdf_cache/*

# 2. ë°±ì—”ë“œ ì„œë²„ ì¬ì‹œì‘
# (systemd ì‚¬ìš© ì‹œ)
sudo systemctl restart abekm-backend

# (ì§ì ‘ ì‹¤í–‰ ì‹œ)
# ë°±ì—”ë“œ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ í›„ ì¬ì‹œì‘
```
sudo locale-gen
sudo update-locale LANG=ko_KR.UTF-8

# í°íŠ¸ ìºì‹œ ì—…ë°ì´íŠ¸
sudo fc-cache -f -v

# Amazon Linux (ìˆ˜ë™ ì„¤ì¹˜)
sudo mkdir -p /usr/share/fonts/truetype/korean
cd /tmp
wget https://github.com/google/fonts/raw/main/ofl/notosanscjkkr/NotoSansCJKkr%5Bwght%5D.ttf
wget https://github.com/google/fonts/raw/main/ofl/notoserifcjkkr/NotoSerifCJKkr%5Bwght%5D.ttf
sudo mv "NotoSansCJKkr[wght].ttf" /usr/share/fonts/truetype/korean/NotoSansCJKkr.ttf
sudo mv "NotoSerifCJKkr[wght].ttf" /usr/share/fonts/truetype/korean/NotoSerifCJKkr.ttf
sudo chmod 644 /usr/share/fonts/truetype/korean/*.ttf
sudo fc-cache -fv

# í•œê¸€ í°íŠ¸ í™•ì¸
fc-list | grep -E "(Noto|Nanum)"
```

#### LibreOffice ë³€í™˜ í…ŒìŠ¤íŠ¸

```bash
# í…ŒìŠ¤íŠ¸ íŒŒì¼ ìƒì„±
echo "LibreOffice í•œê¸€ ë³€í™˜ í…ŒìŠ¤íŠ¸" > test.txt

# PDF ë³€í™˜
libreoffice --headless --convert-to pdf test.txt

# ê²°ê³¼ í™•ì¸
ls -la test.pdf

# ì •ë¦¬
rm test.txt test.pdf
```

### 3.6 Node.js ì„¤ì¹˜ (í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ í•„ìš”ì‹œ)

#### 3.6.1 Node.js LTS ì„¤ì¹˜

```bash
# nvm (Node Version Manager) ì„¤ì¹˜ (ê¶Œì¥)
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash
source ~/.bashrc

# Node.js LTS ì„¤ì¹˜ (í˜„ì¬ 24.x)
nvm install --lts
nvm use --lts

# ë˜ëŠ” íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ë¡œ ì§ì ‘ ì„¤ì¹˜
# Amazon Linux
curl -fsSL https://rpm.nodesource.com/setup_lts.x | sudo bash -
sudo dnf install -y nodejs

# Debian/Ubuntu
curl -fsSL https://deb.nodesource.com/setup_lts.x | sudo -E bash -
sudo apt-get install -y nodejs

# ë²„ì „ í™•ì¸
node --version  # v24.11.1 ì´ìƒ
npm --version   # 11.6.2 ì´ìƒ
```

#### 3.6.2 í”„ë¡ íŠ¸ì—”ë“œ ì˜ì¡´ì„± ì„¤ì¹˜

```bash
# í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ frontend ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd ~/abekm/frontend

# ì˜ì¡´ì„± ì„¤ì¹˜ (package.json ê¸°ë°˜)
npm install

# ì„¤ì¹˜ ì™„ë£Œ í™•ì¸ (ì˜ˆìƒ: 1,500+ íŒ¨í‚¤ì§€)
npm list --depth=0
```

**ì£¼ìš” ì˜ì¡´ì„± íŒ¨í‚¤ì§€**:

```json
{
  "dependencies": {
    "react": "^18.3.1",
    "react-dom": "^18.3.1",
    "typescript": "^4.9.5",
    "@tailwindcss/forms": "^0.5.7",
    "@tailwindcss/typography": "^0.5.10",
    "@heroicons/react": "^2.1.5",
    "recharts": "^2.10.3",
    "react-force-graph-2d": "^1.23.19",
    "react-markdown": "^9.0.1",
    "remark-gfm": "^4.0.0",
    "remark-breaks": "^4.0.0",
    "react-textarea-autosize": "^8.5.3"
  }
}
```

âš ï¸ **ì¤‘ìš”**: `package.json`ì— ëª¨ë“  í•„ìˆ˜ ì˜ì¡´ì„±ì´ ì •ì˜ë˜ì–´ ìˆìœ¼ë¯€ë¡œ, `npm install`ë§Œ ì‹¤í–‰í•˜ë©´ ìë™ìœ¼ë¡œ ì„¤ì¹˜ë©ë‹ˆë‹¤.

#### 3.6.3 í”„ë¡ íŠ¸ì—”ë“œ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

```bash
# .env.exampleì„ ë³µì‚¬í•˜ì—¬ .env íŒŒì¼ ìƒì„±
cd ~/abekm/frontend
cp .env.example .env

# ë˜ëŠ” ì§ì ‘ ìƒì„±
cat > .env << 'EOF'
REACT_APP_API_URL=http://localhost:8000
REACT_APP_ENV=development
REACT_APP_WS_URL=ws://localhost:8000/ws
EOF
```

**í”„ë¡ íŠ¸ì—”ë“œ `.env` íŒŒì¼ êµ¬ì¡°**:

```bash
# API ì—”ë“œí¬ì¸íŠ¸ (ë¡œì»¬ ê°œë°œ)
REACT_APP_API_URL=http://localhost:8000

# í™˜ê²½ ì„¤ì •
REACT_APP_ENV=development

# WebSocket ì—”ë“œí¬ì¸íŠ¸
REACT_APP_WS_URL=ws://localhost:8000/ws
```

âš ï¸ **ì£¼ì˜ì‚¬í•­**:
- í”„ë¡ íŠ¸ì—”ë“œ í™˜ê²½ ë³€ìˆ˜ëŠ” ë¹Œë“œ ì‹œ ë²ˆë“¤ì— í¬í•¨ë©ë‹ˆë‹¤
- ë³€ê²½ í›„ ë°˜ë“œì‹œ `npm start` ì¬ì‹œì‘ í•„ìš”
- `.env` íŒŒì¼ì€ Gitì— ì»¤ë°‹í•˜ì§€ ì•Šë„ë¡ ì£¼ì˜ (`.gitignore`ì— ë“±ë¡ë˜ì–´ ìˆìŒ)

---

## 4. í”„ë¡œì íŠ¸ ì„¤ì •

### 4.1 ì €ì¥ì†Œ í´ë¡ 

```bash
# í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd ~

# ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/arkwith7/abekm.git
cd abekm

# ë¸Œëœì¹˜ í™•ì¸
git branch -a
git checkout main
```

### 4.2 í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

ABEKMì€ 2ê°€ì§€ í™˜ê²½ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤:
- **ê°œë°œ í™˜ê²½**: `.env.development` + `docker-compose.yml`
- **ìš´ì˜ í™˜ê²½**: `.env.production` + `docker-compose.prod.yml`

#### 4.2.1 ê°œë°œ í™˜ê²½ ì„¤ì •

```bash
# .env.development íŒŒì¼ ìƒì„± (ìƒ˜í”Œì—ì„œ ë³µì‚¬)
cp .env.example .env.development

# ë˜ëŠ” ì§ì ‘ ìƒì„±
vi .env.development
```

**í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜** (`.env.development`):

```bash
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • (Docker ì„œë¹„ìŠ¤ëª… ì‚¬ìš©!)
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
DATABASE_URL=postgresql+asyncpg://wkms:wkms123@postgres:5432/wkms
POSTGRES_USER=wkms
POSTGRES_PASSWORD=wkms123
POSTGRES_DB=wkms

# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# Redis ì„¤ì • (Docker ì„œë¹„ìŠ¤ëª… ì‚¬ìš©!)
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
REDIS_URL=redis://redis:6379

# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# JWT ë° ë³´ì•ˆ ì„¤ì •
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
JWT_SECRET_KEY=dev-secret-key-change-in-production
SECRET_KEY=dev-secret-key-change-in-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# CORS ì„¤ì • (ë¡œì»¬ ê°œë°œ)
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
CORS_ORIGINS=["http://localhost:3000","http://127.0.0.1:3000"]
ENVIRONMENT=development

# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# ìŠ¤í† ë¦¬ì§€ ì„¤ì •
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
STORAGE_BACKEND=local
LOCAL_UPLOAD_DIR=/app/uploads

# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# AI í”„ë¡œë°”ì´ë” ì„¤ì • (ì„ íƒì‚¬í•­ - í…ŒìŠ¤íŠ¸ìš©)
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# AWS Bedrock
AWS_REGION=us-east-1
AWS_BEDROCK_MODEL=anthropic.claude-v2

# Azure OpenAI (ì„ íƒì‚¬í•­)
# AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
# AZURE_OPENAI_API_KEY=your-key
# AZURE_OPENAI_LLM_DEPLOYMENT=gpt-4o
```

#### 4.2.2 í”„ë¡ íŠ¸ì—”ë“œ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

```bash
# frontend/.env íŒŒì¼ ìƒì„±
vi frontend/.env
```

**í”„ë¡ íŠ¸ì—”ë“œ ì„¤ì •** (`frontend/.env`):

```bash
# API ì—”ë“œí¬ì¸íŠ¸ (ë¡œì»¬ ê°œë°œ)
REACT_APP_API_URL=http://localhost:8000
REACT_APP_ENV=development

# WebSocket ì—”ë“œí¬ì¸íŠ¸ (ì„ íƒì‚¬í•­)
REACT_APP_WS_URL=ws://localhost:8000/ws
```

âš ï¸ **ì¤‘ìš”**: í”„ë¡ íŠ¸ì—”ë“œ í™˜ê²½ ë³€ìˆ˜ëŠ” ë¹Œë“œ ì‹œ ë²ˆë“¤ì— í¬í•¨ë˜ë¯€ë¡œ, ë³€ê²½ í›„ ë°˜ë“œì‹œ ì¬ë¹Œë“œ í•„ìš”!

#### 4.2.3 í™˜ê²½ ë³€ìˆ˜ ê²€ì¦

```bash
# í™˜ê²½ ë³€ìˆ˜ ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
chmod +x shell-script/validate-env.sh
./shell-script/validate-env.sh .env.development

# í†µê³¼ í™•ì¸
# âœ… All required environment variables are set!
```

### 4.3 Python ê°€ìƒí™˜ê²½ ì„¤ì •

**ê¶Œì¥ ê°œë°œ í™˜ê²½ êµ¬ì„±**: PostgreSQL + RedisëŠ” Dockerë¡œ, Backend + FrontendëŠ” ë¡œì»¬ í„°ë¯¸ë„ë¡œ ì‹¤í–‰

Docker ì „ì²´ ì‹¤í–‰ ë°©ì‹ë³´ë‹¤ ê°œë°œ í¸ì˜ì„±ì´ ë†’ìŠµë‹ˆë‹¤.

#### 4.3.1 ê°€ìƒí™˜ê²½ ìƒì„± ë° íŒ¨í‚¤ì§€ ì„¤ì¹˜

```bash
# í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd ~/abekm

# ê°€ìƒí™˜ê²½ ìƒì„± (í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— ìƒì„±)
python3.11 -m venv .venv

# ê°€ìƒí™˜ê²½ í™œì„±í™”
source .venv/bin/activate

# pip ì—…ê·¸ë ˆì´ë“œ
pip install --upgrade pip

# backend ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•˜ì—¬ íŒ¨í‚¤ì§€ ì„¤ì¹˜
cd backend
pip install -r requirements.txt

# ì„¤ì¹˜ í™•ì¸
pip list | grep -E "fastapi|uvicorn|sqlalchemy|langchain"
```

#### 4.3.2 í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (ë¡œì»¬ ê°œë°œìš©)

ë¡œì»¬ì—ì„œ backendë¥¼ ì‹¤í–‰í•  ë•ŒëŠ” **localhost**ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

```bash
# backend/.env íŒŒì¼ ìƒì„± ë˜ëŠ” ìˆ˜ì •
cd ~/abekm/backend
cp .env.example .env
vi .env
```

**ë¡œì»¬ ê°œë°œìš© DATABASE_URL ì„¤ì •**:
```bash
# PostgreSQLê³¼ RedisëŠ” Dockerë¡œ ì‹¤í–‰í•˜ë¯€ë¡œ localhost ì‚¬ìš©
DATABASE_URL=postgresql+asyncpg://wkms:wkms123@localhost:5432/wkms
REDIS_URL=redis://localhost:6379
```

#### 4.3.3 í™˜ê²½ ë³€ìˆ˜ íŒŒì¼ êµ¬ì¡° (2025-12-15 ê°œì„ )

**âœ… ê¶Œì¥ êµ¬ì¡°**:
```
abekm/
â”œâ”€â”€ backend/.env          # ë°±ì—”ë“œ í™˜ê²½ ë³€ìˆ˜
â”œâ”€â”€ frontend/.env         # í”„ë¡ íŠ¸ì—”ë“œ í™˜ê²½ ë³€ìˆ˜
â””â”€â”€ docker-compose.yml    # env_file ì„¤ì • í¬í•¨
```

âš ï¸ **ì¤‘ìš”**: í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— `.env` ì‹¬ë³¼ë¦­ ë§í¬ë¥¼ ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”. ê° ì„œë¹„ìŠ¤ ë””ë ‰í† ë¦¬ì— ë…ë¦½ì ì¸ `.env` íŒŒì¼ì„ ìœ ì§€í•˜ëŠ” ê²ƒì´ ê´€ë¦¬ê°€ í¸ë¦¬í•©ë‹ˆë‹¤.

**Docker Composeì—ì„œ í™˜ê²½ ë³€ìˆ˜ ìë™ ë¡œë”©**:
```bash
# docker-compose.ymlì—ì„œ env_file ìë™ ì°¸ì¡°
# ê° ì„œë¹„ìŠ¤ê°€ ìë™ìœ¼ë¡œ í•´ë‹¹ ë””ë ‰í† ë¦¬ì˜ .env íŒŒì¼ì„ ë¡œë“œí•©ë‹ˆë‹¤
docker-compose up -d
```

### 4.4 í”„ë¡ íŠ¸ì—”ë“œ ì„¤ì • (ì‹ ê·œ ì„œë²„ ì„¤ì¹˜ ê°€ì´ë“œ)

#### 4.4.1 í”„ë¡ íŠ¸ì—”ë“œ ì˜ì¡´ì„± ì„¤ì¹˜

ìƒˆë¡œìš´ ì„œë²„ì—ì„œ í”„ë¡ íŠ¸ì—”ë“œë¥¼ ì²˜ìŒ ì„¤ì¹˜í•  ë•Œ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤:

```bash
# í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ frontend ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd ~/abekm/frontend

# ì˜ì¡´ì„± ì„¤ì¹˜ (package.json ê¸°ë°˜)
npm install
```

**ì˜ˆìƒ ì„¤ì¹˜ ì‹œê°„**: 2-3ë¶„  
**ì„¤ì¹˜ íŒ¨í‚¤ì§€ ìˆ˜**: ì•½ 1,500ê°œ (ì˜ì¡´ì„± í¬í•¨)

**ì£¼ìš” ì„¤ì¹˜ íŒ¨í‚¤ì§€**:

```json
{
  "dependencies": {
    "react": "^18.3.1",
    "react-dom": "^18.3.1",
    "react-scripts": "5.0.1",
    "typescript": "^4.9.5",
    "@tailwindcss/forms": "^0.5.7",
    "@tailwindcss/typography": "^0.5.10",
    "@heroicons/react": "^2.1.5",
    "recharts": "^2.10.3",
    "react-force-graph-2d": "^1.23.19",
    "react-markdown": "^9.0.1",
    "remark-gfp": "^4.0.0",
    "remark-breaks": "^4.0.0",
    "react-textarea-autosize": "^8.5.3"
  }
}
```

#### 4.4.2 í”„ë¡ íŠ¸ì—”ë“œ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

```bash
# .env.exampleì„ ë³µì‚¬í•˜ì—¬ .env ìƒì„±
cp .env.example .env

# ë‚´ìš© í™•ì¸ ë° í•„ìš”ì‹œ ìˆ˜ì •
cat .env
```

**.env íŒŒì¼ ë‚´ìš©**:

```bash
# API ì—”ë“œí¬ì¸íŠ¸ (ë¡œì»¬ ê°œë°œ)
REACT_APP_API_URL=http://localhost:8000

# í™˜ê²½ ì„¤ì •
REACT_APP_ENV=development

# WebSocket ì—”ë“œí¬ì¸íŠ¸
REACT_APP_WS_URL=ws://localhost:8000/ws
```

#### 4.4.3 ì„¤ì¹˜ ê²€ì¦

```bash
# íŒ¨í‚¤ì§€ ì„¤ì¹˜ í™•ì¸
npm list --depth=0

# í•µì‹¬ íŒ¨í‚¤ì§€ ë²„ì „ í™•ì¸
npm list react react-dom typescript @tailwindcss/forms recharts react-markdown

# í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ í…ŒìŠ¤íŠ¸ (ì„ íƒì‚¬í•­)
npm run build
```

**ì˜ˆìƒ ì¶œë ¥**:

```
The build folder is ready to be deployed.
You may serve it with a static server:

  npm install -g serve
  serve -s build
```

#### 4.4.4 ë¬¸ì œ ë°œìƒ ì‹œ ì²´í¬ë¦¬ìŠ¤íŠ¸

**âœ… ì„¤ì¹˜ ì „ í™•ì¸ì‚¬í•­**:

1. **Node.js ë²„ì „ í™•ì¸**:
   ```bash
   node --version  # v24.11.1 ì´ìƒ ê¶Œì¥
   npm --version   # 11.6.2 ì´ìƒ ê¶Œì¥
   ```

2. **package.json ì¡´ì¬ í™•ì¸**:
   ```bash
   ls -la ~/abekm/frontend/package.json
   ```

3. **package-lock.json ì´ˆê¸°í™” (í•„ìš”ì‹œ)**:
   ```bash
   rm -f package-lock.json
   npm install
   ```

**âŒ ì„¤ì¹˜ ì‹¤íŒ¨ ì‹œ í•´ê²° ë°©ë²•**:

1. **npm ìºì‹œ í´ë¦¬ì–´**:
   ```bash
   npm cache clean --force
   rm -rf node_modules package-lock.json
   npm install
   ```

2. **ê¶Œí•œ ë¬¸ì œ**:
   ```bash
   # í˜„ì¬ ì‚¬ìš©ì ê¶Œí•œìœ¼ë¡œ npm ì „ì—­ ë””ë ‰í† ë¦¬ ì„¤ì •
   mkdir ~/.npm-global
   npm config set prefix '~/.npm-global'
   echo 'export PATH=~/.npm-global/bin:$PATH' >> ~/.bashrc
   source ~/.bashrc
   ```

3. **ë„¤íŠ¸ì›Œí¬ ë¬¸ì œ (íƒ€ì„ì•„ì›ƒ)**:
   ```bash
   # npm íƒ€ì„ì•„ì›ƒ ì¦ê°€
   npm config set fetch-timeout 60000
   npm install
   ```

#### 4.4.5 ì¬ì„¤ì¹˜ ì™„ë²½ ê°€ì´ë“œ

ê¸°ì¡´ ì„¤ì¹˜ê°€ ì˜ëª»ë˜ì—ˆê±°ë‚˜ ì˜¤ë¥˜ê°€ ê³„ì† ë°œìƒí•˜ëŠ” ê²½ìš°:

```bash
cd ~/abekm/frontend

# 1ë‹¨ê³„: ê¸°ì¡´ ì„¤ì¹˜ ì™„ì „ ì œê±°
rm -rf node_modules
rm -rf package-lock.json
rm -rf node_modules/.cache

# 2ë‹¨ê³„: npm ìºì‹œ í´ë¦¬ì–´
npm cache clean --force

# 3ë‹¨ê³„: ì¬ì„¤ì¹˜
npm install

# 4ë‹¨ê³„: ê²€ì¦
npm list --depth=0 | grep -E "react|typescript|tailwindcss|recharts|markdown"

# 5ë‹¨ê³„: ê°œë°œ ì„œë²„ ì‹œì‘
npm start
```

**âœ… ì„±ê³µ ê¸°ì¤€**:

- `npm install` ì™„ë£Œ í›„ ì˜¤ë¥˜ ì—†ìŒ
- `npm start` ì‹¤í–‰ ì‹œ "Compiled successfully!" ë©”ì‹œì§€ ì¶œë ¥
- http://localhost:3000 ì ‘ì† ê°€ëŠ¥

---

## 5. ë°ì´í„°ë² ì´ìŠ¤ ë° ìºì‹œ ì„œë¹„ìŠ¤ ì´ˆê¸°í™”

### 5.1 ì»¤ìŠ¤í…€ PostgreSQL ì´ë¯¸ì§€ ë¹Œë“œ

âš ï¸ **ì¤‘ìš”**: ABEKMì€ í•œêµ­ì–´ ì „ë¬¸ ê²€ìƒ‰ì„ ìœ„í•œ ì»¤ìŠ¤í…€ PostgreSQL í™•ì¥ ê¸°ëŠ¥ì´ í•„ìš”í•©ë‹ˆë‹¤.

**í•„ìˆ˜ í™•ì¥ ê¸°ëŠ¥**:
- `pgvector`: ë²¡í„° ê²€ìƒ‰ (ì˜ë¯¸ ê¸°ë°˜ ê²€ìƒ‰)
- `pg_trgm`: Trigram ìœ ì‚¬ë„ ê²€ìƒ‰
- `textsearch_ko`: í•œêµ­ì–´ ì „ë¬¸ ê²€ìƒ‰ (Mecab ê¸°ë°˜)
- `kor_search`: í•œêµ­ì–´ í˜•íƒœì†Œ ë¶„ì„ ë° ê²€ìƒ‰

#### 5.1.1 PostgreSQL ì´ë¯¸ì§€ ë¹Œë“œ

```bash
# í”„ë¡œì íŠ¸ ë£¨íŠ¸ë¡œ ì´ë™
cd ~/abekm

# ì»¤ìŠ¤í…€ PostgreSQL ì´ë¯¸ì§€ ë¹Œë“œ
# ì£¼ì˜: ë¹Œë“œ ì»¨í…ìŠ¤íŠ¸ë¥¼ í”„ë¡œì íŠ¸ ë£¨íŠ¸ë¡œ ì„¤ì •í•´ì•¼ postgres/ ë””ë ‰í† ë¦¬ ì ‘ê·¼ ê°€ëŠ¥
docker build -t abkms-postgres -f postgres/Dockerfile .

# ë¹Œë“œ ì™„ë£Œ í™•ì¸ (ì•½ 3-5ë¶„ ì†Œìš”)
docker images | grep abkms-postgres
# ì¶œë ¥ ì˜ˆì‹œ:
# abkms-postgres   latest   abc123def456   2 minutes ago   XXX MB
```

**ë¹Œë“œ ì‹œ ì„¤ì¹˜ë˜ëŠ” êµ¬ì„± ìš”ì†Œ**:
1. PostgreSQL 15 ë² ì´ìŠ¤ ì´ë¯¸ì§€
2. pgvector 0.5.1 (ë²¡í„° ê²€ìƒ‰)
3. Mecab 0.996-ko-0.9.2 (í•œêµ­ì–´ í˜•íƒœì†Œ ë¶„ì„ê¸°)
4. mecab-ko-dic 2.1.1 (í•œêµ­ì–´ ì‚¬ì „)
5. textsearch_ko (í•œêµ­ì–´ ì „ë¬¸ ê²€ìƒ‰)
6. kor_search 1.0 (í•œêµ­ì–´ ê²€ìƒ‰ í™•ì¥)

#### 5.1.2 ê°œë°œ í™˜ê²½ìš© Docker Compose íŒŒì¼ ìƒì„±

ë¡œì»¬ ê°œë°œì—ì„œëŠ” PostgreSQLê³¼ Redisë§Œ Dockerë¡œ ì‹¤í–‰í•©ë‹ˆë‹¤.

```bash
# docker-compose.dev.yml íŒŒì¼ ìƒì„±
cd ~/abekm
cat > docker-compose.dev.yml << 'EOF'
version: '3.8'

services:
  postgres:
    image: abkms-postgres
    container_name: abekm-postgres-dev
    environment:
      POSTGRES_DB: wkms
      POSTGRES_USER: wkms
      POSTGRES_PASSWORD: wkms123
    ports:
      - "5432:5432"
    volumes:
      - postgres_data_dev:/var/lib/postgresql/data
      - ./postgres/init.sql:/docker-entrypoint-initdb.d/init.sql
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U wkms -d wkms"]
      interval: 10s
      timeout: 5s
      retries: 5

  redis:
    image: redis:7-alpine
    container_name: abekm-redis-dev
    ports:
      - "6379:6379"
    volumes:
      - redis_data_dev:/data
    command: redis-server --appendonly yes

volumes:
  postgres_data_dev:
  redis_data_dev:
EOF
```

#### 5.1.3 PostgreSQL ì´ˆê¸°í™” ìŠ¤í¬ë¦½íŠ¸ ìƒì„±

```bash
# postgres/init.sql íŒŒì¼ ìƒì„± (í™•ì¥ ê¸°ëŠ¥ í™œì„±í™”)
cat > postgres/init.sql << 'EOF'
-- PostgreSQL ì´ˆê¸°í™” ìŠ¤í¬ë¦½íŠ¸
-- ë°ì´í„°ë² ì´ìŠ¤ ìƒì„± ì‹œ ìë™ìœ¼ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤

-- í•„ìˆ˜ í™•ì¥ ê¸°ëŠ¥ í™œì„±í™”
CREATE EXTENSION IF NOT EXISTS vector;
CREATE EXTENSION IF NOT EXISTS pg_trgm;
CREATE EXTENSION IF NOT EXISTS textsearch_ko;
CREATE EXTENSION IF NOT EXISTS kor_search;

-- í•œêµ­ì–´ ì „ë¬¸ ê²€ìƒ‰ ì„¤ì •ì„ ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì •
ALTER DATABASE wkms SET default_text_search_config = 'korean';

SELECT 'PostgreSQL extensions installed successfully' AS status;
EOF
```

#### 5.1.4 PostgreSQL + Redis ì»¨í…Œì´ë„ˆ ì‹œì‘

```bash
# PostgreSQLê³¼ Redisë¥¼ í•¨ê»˜ ì‹œì‘
docker compose -f docker-compose.dev.yml up -d

# ë˜ëŠ” ê°œë°œ í™˜ê²½ ì „ìš© ëª…ë ¹
docker compose -f docker-compose.dev.yml up -d postgres redis

# ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
docker compose -f docker-compose.dev.yml ps

# PostgreSQL ë¡œê·¸ í™•ì¸
docker compose -f docker-compose.dev.yml logs -f postgres

# Redis ë¡œê·¸ í™•ì¸
docker compose -f docker-compose.dev.yml logs -f redis

# PostgreSQL ì¤€ë¹„ í™•ì¸ (ì•½ 10-20ì´ˆ ì†Œìš”)
docker compose -f docker-compose.dev.yml exec postgres pg_isready -U wkms
# ì‘ë‹µ: postgres:5432 - accepting connections

# PostgreSQL í™•ì¥ ê¸°ëŠ¥ í™•ì¸
docker exec -it abekm-postgres-dev psql -U wkms -d wkms -c "\dx"
# ì¶œë ¥ ì˜ˆì‹œ:
#                                       List of installed extensions
#      Name      | Version |   Schema   |                         Description
# ---------------+---------+------------+--------------------------------------------------------------
#  kor_search    | 1.0     | public     | Korean full text search
#  pg_trgm       | 1.6     | public     | text similarity measurement and index searching based on trigrams
#  pgvector      | 0.5.1   | public     | vector data type and ivfflat and hnsw access methods
#  textsearch_ko | 1.0     | public     | Korean full-text-search

# Redis ì—°ê²° í™•ì¸
docker compose -f docker-compose.dev.yml exec redis redis-cli ping
# ì‘ë‹µ: PONG
```

**ì„œë¹„ìŠ¤ ì •ë³´**:

| ì„œë¹„ìŠ¤ | í˜¸ìŠ¤íŠ¸ (í˜¸ìŠ¤íŠ¸â†’ì»¨í…Œì´ë„ˆ) | í˜¸ìŠ¤íŠ¸ (ì»¨í…Œì´ë„ˆâ†’ì»¨í…Œì´ë„ˆ) | í¬íŠ¸ | ìš©ë„ |
|--------|-----------------|---------------------|------|------|
| **PostgreSQL** | localhost | postgres | 5432 | ë©”ì¸ ë°ì´í„°ë² ì´ìŠ¤ |
| **Redis** | localhost | redis | 6379 | ìºì‹œ, ì„¸ì…˜, Celery í |

**PostgreSQL ì ‘ì† ì •ë³´**:
- **ë°ì´í„°ë² ì´ìŠ¤**: wkms
- **ì‚¬ìš©ì**: wkms
- **ë¹„ë°€ë²ˆí˜¸**: `.env.development` íŒŒì¼ì˜ `POSTGRES_PASSWORD` ì°¸ì¡°

**Redis ì ‘ì† ì •ë³´**:
- **URL**: `redis://redis:6379` (ì»¨í…Œì´ë„ˆ ë‚´ë¶€) ë˜ëŠ” `redis://localhost:6379` (í˜¸ìŠ¤íŠ¸)

### 5.2 Alembic ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰

#### ë°©ë²• 1: Docker ì»¨í…Œì´ë„ˆì—ì„œ ì‹¤í–‰ (ê¶Œì¥)

```bash
# ë°±ì—”ë“œ ì»¨í…Œì´ë„ˆ ì‹œì‘ (ì•„ì§ ì‹œì‘í•˜ì§€ ì•Šì€ ê²½ìš°)
docker compose up -d backend

# ë°±ì—”ë“œ ì»¨í…Œì´ë„ˆ ì ‘ì†
docker compose exec backend bash

# Alembic ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰
cd /app
alembic upgrade head

# ê²°ê³¼ í™•ì¸
# INFO  [alembic.runtime.migration] Running upgrade -> xxxxx, Initial migration
# INFO  [alembic.runtime.migration] Running upgrade xxxxx -> yyyyy, Add new tables

# ì»¨í…Œì´ë„ˆ ì¢…ë£Œ
exit
```

#### ë°©ë²• 2: í˜¸ìŠ¤íŠ¸ì—ì„œ ì§ì ‘ ì‹¤í–‰ (ë¡œì»¬ ê°œë°œ í™˜ê²½ - ê¶Œì¥)

ë¡œì»¬ì—ì„œ Python ê°€ìƒí™˜ê²½ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°:

```bash
# í”„ë¡œì íŠ¸ ë£¨íŠ¸ë¡œ ì´ë™
cd ~/abekm

# ê°€ìƒí™˜ê²½ í™œì„±í™”
source .venv/bin/activate

# backend ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd backend

# backend/.env íŒŒì¼ í™•ì¸ (DATABASE_URLì´ localhostë¡œ ì„¤ì •ë˜ì–´ ìˆì–´ì•¼ í•¨)
grep DATABASE_URL .env
# ì¶œë ¥: DATABASE_URL=postgresql+asyncpg://wkms:wkms123@localhost:5432/wkms

# Alembic ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰
alembic upgrade head

# ì„±ê³µ ë©”ì‹œì§€ í™•ì¸
# INFO  [alembic.runtime.migration] Context impl PostgresqlImpl.
# INFO  [alembic.runtime.migration] Will assume transactional DDL.
# INFO  [alembic.runtime.migration] Running upgrade  -> 20251118_001_initial, Initial migration
# ...

# í˜„ì¬ ë§ˆì´ê·¸ë ˆì´ì…˜ ë²„ì „ í™•ì¸
alembic current

# í…Œì´ë¸” ìƒì„± í™•ì¸
docker exec -it abekm-postgres-dev psql -U wkms -d wkms -c "\dt"
# ì¶œë ¥: 38ê°œì˜ í…Œì´ë¸”ì´ ìƒì„±ë˜ì–´ì•¼ í•¨
```

### 5.3 ì´ˆê¸° ë°ì´í„° ë¡œë”©

#### ğŸ‰ ìë™ ì´ˆê¸°í™” í”„ë¡œì„¸ìŠ¤ (2025-12-15 ê°œì„ )

Docker ì»¨í…Œì´ë„ˆ ë°°í¬ ì‹œ ë°ì´í„°ë² ì´ìŠ¤ê°€ ìë™ìœ¼ë¡œ ì´ˆê¸°í™”ë©ë‹ˆë‹¤!

**ìë™ ì‹¤í–‰ í”„ë¡œì„¸ìŠ¤** (`backend/start_with_init.sh`):
```
1. PostgreSQL ì—°ê²° ëŒ€ê¸° (ìµœëŒ€ 30íšŒ ì¬ì‹œë„)
   â†“
2. Alembic ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰ (í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ ìƒì„±)
   â†“
3. ë°ì´í„° ì‹œë”© í•„ìš” ì—¬ë¶€ ìë™ ê°ì§€
   â†“
4. í•„ìš” ì‹œ ì´ˆê¸° ë°ì´í„° ì ì¬ (init_simple_database.py)
   â†“
5. FastAPI ì„œë²„ ì‹œì‘
```

**ìë™ ì‹œë”© ì¡°ê±´**:
- í™˜ê²½ ë³€ìˆ˜ `FORCE_DB_SEED=true` ì„¤ì • ì‹œ
- í•„ìˆ˜ í…Œì´ë¸”(`tb_user`, `tb_user_roles`, `tb_user_permissions`, `tb_knowledge_categories`)ì´ ë¹„ì–´ìˆì„ ì‹œ

```bash
# Docker Composeë¡œ ì‹œì‘í•˜ë©´ ìë™ìœ¼ë¡œ ì´ˆê¸°í™”ë¨
docker-compose up -d

# ì´ˆê¸°í™” ë¡œê·¸ í™•ì¸
docker-compose logs -f backend

# ì˜ˆìƒ ë¡œê·¸:
# âœ… PostgreSQL connection successful
# âœ… Alembic migrations completed
# âœ… Database seeding required
# âœ… init_simple_database.py executed successfully
# âœ… FastAPI server starting...
```

**ê°•ì œ ì‹œë”©** (ë°ì´í„° ì¬ì´ˆê¸°í™”):
```bash
# í™˜ê²½ ë³€ìˆ˜ë¡œ ê°•ì œ ì‹œë”©
export FORCE_DB_SEED=true
docker-compose up -d backend

# ë˜ëŠ” ìˆ˜ë™ ì‹¤í–‰
docker exec -it abkms-backend python3 init_simple_database.py
```

ìƒì„¸ ê°€ì´ë“œ: [DATABASE_INITIALIZATION_GUIDE.md](../DATABASE_INITIALIZATION_GUIDE.md)

#### ë°©ë²• 1: Docker ì»¨í…Œì´ë„ˆì—ì„œ ìˆ˜ë™ ì‹¤í–‰ (ë ˆê±°ì‹œ)

```bash
# ë°±ì—”ë“œ ì»¨í…Œì´ë„ˆ ì ‘ì†
docker compose exec backend bash

# backend/data ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd /app/data

# ë°ì´í„° ê²€ì¦ (ì„ íƒì‚¬í•­)
python validate_initial_data.py

# ì „ì²´ Seeder ì‹¤í–‰
cd seeds
python run_all_seeders.py

# ì‹¤í–‰ ê²°ê³¼ í™•ì¸
# âœ… System data seeded successfully
# âœ… SAP HR data seeded successfully
# âœ… Users seeded successfully
# âœ… Containers seeded successfully
# âœ… Permissions seeded successfully

# ì»¨í…Œì´ë„ˆ ì¢…ë£Œ
exit
```

#### ë°©ë²• 2: í˜¸ìŠ¤íŠ¸ì—ì„œ ì§ì ‘ ì‹¤í–‰ (ë¡œì»¬ ê°œë°œ í™˜ê²½)

```bash
# í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ ê°€ìƒí™˜ê²½ í™œì„±í™”
cd ~/abekm
source .venv/bin/activate

# backend ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd backend

# ì´ˆê¸° ë°ì´í„° ë¡œë”© ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
python init_database_complete.py

# ë˜ëŠ” ê°„ë‹¨í•œ ì´ˆê¸°í™”
# python init_simple_database.py

# ì‹¤í–‰ ê²°ê³¼ í™•ì¸
# âœ… ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™” ì™„ë£Œ
# âœ… ì‚¬ìš©ì: 10ëª…
# âœ… ì»¨í…Œì´ë„ˆ: 12ê°œ
# âœ… ê¶Œí•œ: 30ê°œ
# âœ… ì—­í• : 10ê°œ
# âœ… SAP HR: 10ê°œ
# âœ… ì¹´í…Œê³ ë¦¬: 13ê°œ
# âœ… ê³µí†µ ì½”ë“œ: 36ê°œ

# ë°ì´í„° í™•ì¸
docker exec -it abekm-postgres-dev psql -U wkms -d wkms -c "
SELECT 'Users' as table_name, COUNT(*) as count FROM tb_user
UNION ALL SELECT 'Containers', COUNT(*) FROM tb_knowledge_containers
UNION ALL SELECT 'Permissions', COUNT(*) FROM tb_user_permissions
UNION ALL SELECT 'Roles', COUNT(*) FROM tb_user_roles
UNION ALL SELECT 'SAP HR', COUNT(*) FROM tb_sap_hr_info
UNION ALL SELECT 'Categories', COUNT(*) FROM tb_knowledge_categories
UNION ALL SELECT 'Common Codes', COUNT(*) FROM tb_cmns_cd_grp_item;"
```

**ë¡œë“œëœ ë°ì´í„°**:
- **ì‚¬ìš©ì (10ëª…)**: ADMIN001 (ê´€ë¦¬ì), 77107791~77107799 (ì¼ë°˜ ì‚¬ìš©ì)
- **ì»¨í…Œì´ë„ˆ (12ê°œ)**: ì „ì‚¬, ë¶€ë¬¸, ì‹¤/íŒ€ ê³„ì¸µ êµ¬ì¡°
- **ê¶Œí•œ (30ê°œ)**: ì‚¬ìš©ìë³„ ì»¨í…Œì´ë„ˆ ì ‘ê·¼ ê¶Œí•œ
- **ì—­í•  (10ê°œ)**: ADMIN, MANAGER, USER ë“±
- **SAP HR (10ê°œ)**: ì¡°ì§ë„ ë° ì¸ì‚¬ ì •ë³´
- **ì¹´í…Œê³ ë¦¬ (13ê°œ)**: ë¬¸ì„œ ë¶„ë¥˜ ì²´ê³„
- **ê³µí†µ ì½”ë“œ (36ê°œ)**: ì‹œìŠ¤í…œ ì½”ë“œ

### 5.4 ë°ì´í„°ë² ì´ìŠ¤ ìƒíƒœ í™•ì¸

```bash
# PostgreSQL ì ‘ì†
docker compose exec postgres psql -U wkms -d wkms

# í…Œì´ë¸” ëª©ë¡ í™•ì¸
\dt

# ì‚¬ìš©ì í™•ì¸
SELECT emp_no, username, email, is_admin FROM tb_users;

# ì»¨í…Œì´ë„ˆ í™•ì¸
SELECT container_id, container_name, container_type, org_level FROM tb_knowledge_containers ORDER BY org_level;

# ì¢…ë£Œ
\q
```

### 5.5 Celery ì›Œì»¤ ì„¤ì • (ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… ì²˜ë¦¬)

CeleryëŠ” ë¬¸ì„œ ì—…ë¡œë“œ ë° ì²˜ë¦¬ë¥¼ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ë¹„ë™ê¸°ë¡œ ìˆ˜í–‰í•©ë‹ˆë‹¤.

**Celeryê°€ í•„ìš”í•œ ì‘ì—…**:
- ğŸ“„ ë¬¸ì„œ ì—…ë¡œë“œ í›„ í…ìŠ¤íŠ¸ ì¶”ì¶œ ë° ë¶„ì„
- ğŸ§  ë¬¸ì„œ ì„ë² ë”© ìƒì„± (ë²¡í„°í™”)
- ğŸ” ëŒ€ìš©ëŸ‰ ë¬¸ì„œ ì²˜ë¦¬ (ì²­í‚¹, ì¸ë±ì‹±)
- ğŸ“Š PPT ìƒì„± ë“± ì¥ì‹œê°„ ì‹¤í–‰ ì‘ì—…

#### 5.5.1 Celery ì›Œì»¤ ì‹œì‘ (Docker í™˜ê²½)

**ë°©ë²• 1: ë°±ì—”ë“œ ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ì‹¤í–‰**

```bash
# ë°±ì—”ë“œ ì»¨í…Œì´ë„ˆì—ì„œ Celery ì›Œì»¤ ì‹œì‘
docker compose exec backend bash

# Celery ì›Œì»¤ ì‹¤í–‰ (ë°±ê·¸ë¼ìš´ë“œ)
celery -A app.core.celery_app worker --loglevel=info --concurrency=2 &

# ì›Œì»¤ ìƒíƒœ í™•ì¸
ps aux | grep celery

# ì»¨í…Œì´ë„ˆ ì¢…ë£Œ
exit
```

**ë°©ë²• 2: ë³„ë„ í„°ë¯¸ë„ì—ì„œ ì‹¤í–‰ (ê¶Œì¥)**

```bash
# í„°ë¯¸ë„ 1: ë°±ì—”ë“œ API ì„œë²„ (ì´ë¯¸ ì‹¤í–‰ ì¤‘)
docker compose logs -f backend

# í„°ë¯¸ë„ 2: Celery ì›Œì»¤ (ìƒˆ í„°ë¯¸ë„)
docker compose exec backend celery -A app.core.celery_app worker --loglevel=info --concurrency=2
```

#### 5.5.2 Celery ì›Œì»¤ ì‹œì‘ (ë¡œì»¬ í™˜ê²½)

```bash
# backend ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd backend

# ê°€ìƒí™˜ê²½ í™œì„±í™”
source .venv/bin/activate

# Celery ì›Œì»¤ ì‹¤í–‰
celery -A app.core.celery_app worker --loglevel=info --concurrency=2

# ë³„ë„ í„°ë¯¸ë„ì—ì„œ Flower ëª¨ë‹ˆí„°ë§ (ì„ íƒì‚¬í•­)
celery -A app.core.celery_app flower --port=5555
# ì ‘ì†: http://localhost:5555
```

#### 5.5.3 Celery ì›Œì»¤ í™•ì¸

```bash
# Celery ì›Œì»¤ ìƒíƒœ í™•ì¸
docker compose exec backend celery -A app.core.celery_app inspect active

# Celery ì›Œì»¤ í†µê³„
docker compose exec backend celery -A app.core.celery_app inspect stats

# ë“±ë¡ëœ ì‘ì—… ëª©ë¡
docker compose exec backend celery -A app.core.celery_app inspect registered
```

**Celery ì„¤ì • ìš”ì•½**:
- **ë¸Œë¡œì»¤**: Redis (ì‘ì—… í)
- **ë°±ì—”ë“œ**: Redis (ê²°ê³¼ ì €ì¥)
- **ë™ì‹œ ì‘ì—… ìˆ˜**: 2 (ë©”ëª¨ë¦¬ ì ˆì•½)
- **ì‘ì—… ì œí•œ ì‹œê°„**: 1ì‹œê°„ (ëŒ€ìš©ëŸ‰ íŒŒì¼ ì²˜ë¦¬)
- **ì£¼ìš” ì‘ì—…**: `process_document_async` (ë¬¸ì„œ ì²˜ë¦¬)

âš ï¸ **ì£¼ì˜**: 
- Celery ì›Œì»¤ê°€ ì‹¤í–‰ë˜ì§€ ì•Šìœ¼ë©´ ë¬¸ì„œ ì—…ë¡œë“œ í›„ ì²˜ë¦¬ê°€ ì§„í–‰ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤!
- ìš´ì˜ í™˜ê²½ì—ì„œëŠ” systemd ë˜ëŠ” supervisorë¡œ Celery ì›Œì»¤ë¥¼ ë°ëª¬í™”í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.

**Docker Composeì— Celery ì›Œì»¤ ì„œë¹„ìŠ¤ ì¶”ê°€ (ì„ íƒì‚¬í•­)**:

í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” `docker-compose.prod.yml`ì— Celery ì›Œì»¤ë¥¼ ë³„ë„ ì„œë¹„ìŠ¤ë¡œ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```yaml
celery-worker:
  build:
    context: ./backend
    dockerfile: Dockerfile
  image: abkms-backend
  container_name: abkms-celery-worker
  command: celery -A app.core.celery_app worker --loglevel=info --concurrency=2
  environment:
    - DATABASE_URL=${DATABASE_URL}
    - REDIS_URL=${REDIS_URL}
    # ... ê¸°íƒ€ í™˜ê²½ ë³€ìˆ˜
  depends_on:
    - postgres
    - redis
  networks:
    - abkms-network
  restart: unless-stopped
```

**ìƒì„¸ ê°€ì´ë“œ**: [ë³„ì²¨02_ABEKM_ì´ˆê¸°ë°ì´í„°_ì„¤ì •ê°€ì´ë“œ_v2.md](./ë³„ì²¨02_ABEKM_ì´ˆê¸°ë°ì´í„°_ì„¤ì •ê°€ì´ë“œ_v2.md)

---

## 6. ê°œë°œ í™˜ê²½ ì‹¤í–‰ (ê¶Œì¥ ë°©ì‹)

### 6.1 ê°œë°œ í™˜ê²½ êµ¬ì„± ì „ëµ

**ê¶Œì¥ ë°©ì‹**: PostgreSQL + RedisëŠ” Dockerë¡œ, Backend + FrontendëŠ” ë¡œì»¬ í„°ë¯¸ë„ë¡œ ì‹¤í–‰

ì´ ë°©ì‹ì€ ë‹¤ìŒê³¼ ê°™ì€ ì¥ì ì´ ìˆìŠµë‹ˆë‹¤:
- âœ… ì½”ë“œ ë³€ê²½ ì‹œ ì¦‰ì‹œ ë°˜ì˜ (Hot Reload)
- âœ… ë””ë²„ê¹… ìš©ì´
- âœ… IDE í†µí•© ê°œë°œ í™˜ê²½ í™œìš©
- âœ… ë¡œê·¸ ì§ì ‘ í™•ì¸ ê°€ëŠ¥

### 6.1.1 Docker ë„¤íŠ¸ì›Œí¬ êµ¬ì„± (2025-12-15 ê²€ì¦)

**Nginx ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ êµ¬ì¡°**:
```
ë¸Œë¼ìš°ì € (í¬íŠ¸ 80)
    â†“
Nginx ì»¨í…Œì´ë„ˆ
    â”œâ”€â†’ / (ë£¨íŠ¸)            â†’ Frontend ì»¨í…Œì´ë„ˆ (í¬íŠ¸ 3000)
    â””â”€â†’ /api/* (API ê²½ë¡œ)   â†’ Backend ì»¨í…Œì´ë„ˆ (í¬íŠ¸ 8000)
```

**ë„¤íŠ¸ì›Œí¬ ê²€ì¦**:
```bash
# ìë™ í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
./test-docker-deployment.sh

# ìˆ˜ë™ í…ŒìŠ¤íŠ¸
curl http://localhost/           # Frontend
curl http://localhost/api/health # Backend API

# ìƒì„¸ ê°€ì´ë“œ
cat DOCKER_NETWORK_TEST_GUIDE.md
```

### 6.2 ë¡œì»¬ ê°œë°œ í™˜ê²½ ì‹¤í–‰

#### 6.2.1 ë°ì´í„°ë² ì´ìŠ¤ ì„œë¹„ìŠ¤ ì‹œì‘ (PostgreSQL + Redis)

```bash
# í”„ë¡œì íŠ¸ ë£¨íŠ¸ë¡œ ì´ë™
cd ~/abekm

# PostgreSQLê³¼ Redis ì‹œì‘
docker compose -f docker-compose.dev.yml up -d

# ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
docker compose -f docker-compose.dev.yml ps

# ë¡œê·¸ í™•ì¸
docker compose -f docker-compose.dev.yml logs -f
```

#### 6.2.2 ë°±ì—”ë“œ ì„œë²„ ì‹œì‘ (FastAPI)

**ìƒˆ í„°ë¯¸ë„**ì„ ì—´ê³  ë‹¤ìŒì„ ì‹¤í–‰í•©ë‹ˆë‹¤:

```bash
# í”„ë¡œì íŠ¸ ë£¨íŠ¸ë¡œ ì´ë™
cd ~/abekm

# ê°€ìƒí™˜ê²½ í™œì„±í™”
source .venv/bin/activate

# ë°±ì—”ë“œ ê°œë°œ ì„œë²„ ì‹œì‘ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
./shell-script/dev-start-backend.sh

# ë˜ëŠ” ì§ì ‘ ì‹¤í–‰
cd backend
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

**ë°±ì—”ë“œ ì„œë²„ ë¡œê·¸ ì˜ˆì‹œ**:
```
===================================================================
   WKMS ë°±ì—”ë“œ ê°œë°œ ì„œë²„ ì‹œì‘ (ë¹„ë™ê¸° ì—…ë¡œë“œ ì§€ì›)
===================================================================

ğŸ”§ ê°€ìƒí™˜ê²½ì„ í™œì„±í™”í•©ë‹ˆë‹¤...
âœ… Python í™˜ê²½: /home/admin/Dev/abekm/.venv/bin/python

ğŸ“¦ í•„ìˆ˜ ì˜ì¡´ì„±ì„ í™•ì¸í•˜ê³  ì„¤ì¹˜í•©ë‹ˆë‹¤...

ğŸ” Redis ì„œë²„ ì—°ê²° í™•ì¸...
âœ… Redis ì„œë²„ ì—°ê²°ë¨ (localhost:6379)

ğŸš€ FastAPI ê°œë°œ ì„œë²„ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤...
-------------------------------------------------------------------
   ğŸ“ API ì„œë²„:     http://localhost:8000
   ğŸ“š API ë¬¸ì„œ:     http://localhost:8000/docs
   ğŸ”„ Swagger UI:   http://localhost:8000/docs
   ğŸ“– ReDoc:        http://localhost:8000/redoc
-------------------------------------------------------------------

INFO:     Will watch for changes in these directories: ['/home/admin/Dev/abekm/backend']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [12345] using WatchFiles
INFO:     Started server process [12346]
INFO:     Application startup complete.
```

**ë°±ì—”ë“œ ì„œë²„ ë™ì‘ í™•ì¸**:
```bash
# í—¬ìŠ¤ ì²´í¬
curl http://localhost:8000/health

# ì˜ˆìƒ ì‘ë‹µ:
# {"status":"healthy","service":"ABKMS","ai_providers":"multi-vendor","korean_support":"enabled"}

# API ë¬¸ì„œ ì ‘ê·¼
curl -s http://localhost:8000/docs -o /dev/null -w "%{http_code}\n"
# ì˜ˆìƒ ì‘ë‹µ: 200
```

#### 6.2.3 í”„ë¡ íŠ¸ì—”ë“œ ì„œë²„ ì‹œì‘ (React)

**ìƒˆ í„°ë¯¸ë„**ì„ ì—´ê³  ë‹¤ìŒì„ ì‹¤í–‰í•©ë‹ˆë‹¤:

```bash
# í”„ë¡œì íŠ¸ ë£¨íŠ¸ë¡œ ì´ë™
cd ~/abekm

# í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ì„œë²„ ì‹œì‘ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
./shell-script/dev-start-frontend.sh

# ë˜ëŠ” ì§ì ‘ ì‹¤í–‰
cd frontend
npm start
```

**ì˜ˆìƒ ì¶œë ¥**:

```
Compiled successfully!

You can now view abekm-frontend in the browser.

  Local:            http://localhost:3000
  On Your Network:  http://172.31.x.x:3000

Note that the development build is not optimized.
To create a production build, use npm run build.

webpack compiled successfully
```

**í”„ë¡ íŠ¸ì—”ë“œ ì ‘ì† í™•ì¸**:

```bash
# í—¬ìŠ¤ì²´í¬ (ë¸Œë¼ìš°ì € ë˜ëŠ” curl)
curl -I http://localhost:3000
# ì˜ˆìƒ ì‘ë‹µ: HTTP/1.1 200 OK
```

**ë¬¸ì œ í•´ê²°**:

1. **í¬íŠ¸ ì¶©ëŒ (Port 3000 already in use)**:
   ```bash
   # í¬íŠ¸ ì‚¬ìš© ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ í™•ì¸ ë° ì¢…ë£Œ
   lsof -ti:3000 | xargs kill -9
   ```

2. **ì˜ì¡´ì„± ì˜¤ë¥˜ (Module not found)**:
   ```bash
   # ë…¸ë“œ ëª¨ë“ˆ ì¬ì„¤ì¹˜
   cd ~/abekm/frontend
   rm -rf node_modules package-lock.json
   npm install
   ```

3. **TypeScript ì»´íŒŒì¼ ì˜¤ë¥˜**:
   ```bash
   # TypeScript ìºì‹œ í´ë¦¬ì–´
   cd ~/abekm/frontend
   rm -rf node_modules/.cache
   npm start
   ```

#### 6.2.4 ê°œë°œ í™˜ê²½ ì¢…ë£Œ

```bash
# ë°±ì—”ë“œ ì„œë²„ ì¢…ë£Œ: Ctrl+C
# í”„ë¡ íŠ¸ì—”ë“œ ì„œë²„ ì¢…ë£Œ: Ctrl+C

# PostgreSQL + Redis ì¢…ë£Œ
cd ~/abekm
docker compose -f docker-compose.dev.yml down

# ë˜ëŠ” ë°ì´í„° ìœ ì§€í•˜ê³  ì •ì§€ë§Œ
docker compose -f docker-compose.dev.yml stop
```

### 6.3 ì „ì²´ Docker í™˜ê²½ êµ¬ì„± (ì„ íƒì‚¬í•­)

ì „ì²´ë¥¼ Dockerë¡œ ì‹¤í–‰í•˜ê³  ì‹¶ì€ ê²½ìš°:

#### 6.3.1 Docker Compose êµ¬ì¡°

```yaml
services:
  postgres:       # PostgreSQL 15 + pgvector + í•œêµ­ì–´ ê²€ìƒ‰
  redis:          # Redis 7-alpine
  backend:        # FastAPI (Python 3.11)
  frontend:       # React (Node 24)
  nginx:          # ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ (ì„ íƒ)
  pgadmin:        # DB ê´€ë¦¬ ë„êµ¬ (ì„ íƒ)
```

#### 6.3.2 ì „ì²´ ì„œë¹„ìŠ¤ ì‹œì‘

```bash
# ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì—ì„œ ì‹¤í–‰
cd ~/abekm

# ì „ì²´ ì„œë¹„ìŠ¤ ì‹œì‘
docker compose up -d

# ë¡œê·¸ í™•ì¸
docker compose logs -f

# íŠ¹ì • ì„œë¹„ìŠ¤ ë¡œê·¸ë§Œ ë³´ê¸°
docker compose logs -f backend
docker compose logs -f frontend
```

### 6.3 ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸

```bash
# ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆ í™•ì¸
docker compose ps

# í—¬ìŠ¤ ì²´í¬
curl http://localhost:8000/health
curl http://localhost:3000

# API ë¬¸ì„œ ì ‘ê·¼
# http://localhost:8000/docs (Swagger UI)
```

### 6.4 ì„œë¹„ìŠ¤ ì¤‘ì§€ ë° ì¬ì‹œì‘

```bash
# ì „ì²´ ì¤‘ì§€
docker compose down

# ì¬ì‹œì‘
docker compose restart

# íŠ¹ì • ì„œë¹„ìŠ¤ë§Œ ì¬ì‹œì‘
docker compose restart backend

# ë³¼ë¥¨ í¬í•¨ ì™„ì „ ì‚­ì œ (ì£¼ì˜!)
docker compose down -v
```

### 6.5 í”„ë¡œë•ì…˜ í™˜ê²½ ë°°í¬ (ìƒˆ ì„œë²„)

ìƒˆ ì„œë²„ì— í”„ë¡œë•ì…˜ í™˜ê²½ì„ êµ¬ì¶•í•˜ëŠ” ê²½ìš°:

```bash
# 1. .env.production íŒŒì¼ ìˆ˜ì •
vi .env.production

# í•„ìˆ˜ ë³€ê²½ ì‚¬í•­:
# - POSTGRES_PASSWORD (ê°•ë ¥í•œ ë¹„ë°€ë²ˆí˜¸)
# - JWT_SECRET_KEY (openssl rand -base64 64)
# - SECRET_KEY (openssl rand -base64 64)
# - CORS_ORIGINS (ì‹¤ì œ ì„œë²„ IP ë˜ëŠ” ë„ë©”ì¸)
# - AWS ìê²© ì¦ëª… (í•„ìš”ì‹œ)

# 2. frontend/.env ìˆ˜ì •
vi frontend/.env
# REACT_APP_API_URL=http://your-server-ip:8000

# 3. í”„ë¡œë•ì…˜ ë°°í¬
docker compose -f docker-compose.prod.yml --env-file .env.production up -d

# ë˜ëŠ” í—¬í¼ ìŠ¤í¬ë¦½íŠ¸
./shell-script/deploy.sh up

# 4. ë¡œê·¸ í™•ì¸
./shell-script/check-logs.sh backend --since 10m --tail 200
./shell-script/check-logs.sh nginx --since 10m --tail 200
```

**ìƒì„¸ ê°€ì´ë“œ**: [ë³„ì²¨07_ì»¨í…Œì´ë„ˆ_ë°°í¬_ì²´í¬ë¦¬ìŠ¤íŠ¸.md](./ë³„ì²¨07_ì»¨í…Œì´ë„ˆ_ë°°í¬_ì²´í¬ë¦¬ìŠ¤íŠ¸.md)

---

## 7. ê°œë°œ í™˜ê²½ ì‹¤í–‰ ë° ê²€ì¦

### 7.1 ì ‘ì† ì •ë³´

ì„œë¹„ìŠ¤ê°€ ì •ìƒ ì‹¤í–‰ë˜ë©´ ë‹¤ìŒ URLë¡œ ì ‘ì† ê°€ëŠ¥í•©ë‹ˆë‹¤:

| ì„œë¹„ìŠ¤                    | URL                         | ì„¤ëª…               |
| ---------------------- | --------------------------- | ---------------- |
| **Frontend**           | http://localhost:3000       | React ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜   |
| **Backend API**        | http://localhost:8000       | FastAPI REST API |
| **API Docs (Swagger)** | http://localhost:8000/docs  | ì¸í„°ë™í‹°ë¸Œ API ë¬¸ì„œ     |
| **API Docs (ReDoc)**   | http://localhost:8000/redoc | ëŒ€ì²´ API ë¬¸ì„œ        |
| **pgAdmin**            | http://localhost:5050       | PostgreSQL ê´€ë¦¬ ë„êµ¬ |

### 7.2 ê¸°ë³¸ ë¡œê·¸ì¸ ê³„ì •

ì´ˆê¸° ë°ì´í„° ì„¤ì • í›„ ë‹¤ìŒ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤:

| ì—­í•       | Username   | Password    | ê¶Œí•œ        |
| ------- | ---------- | ----------- | --------- |
| ì‹œìŠ¤í…œ ê´€ë¦¬ì | admin      | admin123!   | ì „ì²´ ì‹œìŠ¤í…œ ê´€ë¦¬ |
| íŒ€ì¥ (ì¸ì‚¬) | hr.manager | hr123!      | ì¸ì‚¬íŒ€ ê´€ë¦¬    |
| íŒ€ì› (ì±„ìš©) | recruit    | recruit123! | ì±„ìš©íŒ€ ë¬¸ì„œ í¸ì§‘ |

âš ï¸ **ë³´ì•ˆ ì£¼ì˜**: í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ë°˜ë“œì‹œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ë³€ê²½í•˜ì„¸ìš”!

### 7.3 ê¸°ëŠ¥ ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸

#### 7.3.1 ë°±ì—”ë“œ API ê²€ì¦

```bash
# í—¬ìŠ¤ ì²´í¬
curl http://localhost:8000/health

# ì˜ˆìƒ ì‘ë‹µ:
# {"status": "healthy", "version": "1.0.0"}

# ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸
curl -X POST http://localhost:8000/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username": "admin", "password": "admin123!"}'

# ì˜ˆìƒ ì‘ë‹µ:
# {"access_token": "eyJ...", "token_type": "bearer"}
```

#### 7.3.2 í”„ë¡ íŠ¸ì—”ë“œ ì ‘ê·¼ ê²€ì¦

1. ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:3000 ì ‘ì†
2. ë¡œê·¸ì¸ í™”ë©´ í™•ì¸
3. `admin` / `admin123!` ë¡œê·¸ì¸
4. ëŒ€ì‹œë³´ë“œ ì •ìƒ í‘œì‹œ í™•ì¸

#### 7.3.3 ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ê²€ì¦

```bash
# PostgreSQL ì ‘ì†
docker compose exec postgres psql -U wkms -d wkms

# ë°ì´í„° í™•ì¸
SELECT COUNT(*) FROM tb_users;
SELECT COUNT(*) FROM tb_knowledge_containers;

\q
```

#### 7.3.4 Redis ì—°ê²° ê²€ì¦

```bash
# Redis ì ‘ì†
docker compose exec redis redis-cli

# í…ŒìŠ¤íŠ¸
PING
# ì‘ë‹µ: PONG

# ì¢…ë£Œ
exit
```

#### 7.3.5 ë¬¸ì„œ ì—…ë¡œë“œ í…ŒìŠ¤íŠ¸

1. í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ë¡œê·¸ì¸
2. ë¬¸ì„œ ì—…ë¡œë“œ ë©”ë‰´ ì ‘ê·¼
3. ìƒ˜í”Œ PDF íŒŒì¼ ì—…ë¡œë“œ
4. ì²˜ë¦¬ ìƒíƒœ í™•ì¸
5. ê²€ìƒ‰ ê¸°ëŠ¥ìœ¼ë¡œ ë¬¸ì„œ ì¡°íšŒ

#### 7.3.6 LibreOffice ë³€í™˜ í…ŒìŠ¤íŠ¸

```bash
# ë°±ì—”ë“œ ì»¨í…Œì´ë„ˆ ì ‘ì†
docker compose exec backend bash

# LibreOffice í™•ì¸
libreoffice --version

# í•œê¸€ í°íŠ¸ í™•ì¸
fc-list | grep -i noto

# í…ŒìŠ¤íŠ¸ ë³€í™˜
cd /tmp
echo "í…ŒìŠ¤íŠ¸ ë¬¸ì„œ" > test.txt
libreoffice --headless --convert-to pdf test.txt
ls -la test.pdf

exit
```

### 7.4 ë¡œê·¸ ëª¨ë‹ˆí„°ë§

```bash
# ì‹¤ì‹œê°„ ë¡œê·¸ ëª¨ë‹ˆí„°ë§
docker compose logs -f

# ìµœê·¼ 100ì¤„ + ì‹¤ì‹œê°„
docker compose logs --tail=100 -f backend

# íŠ¹ì • ì‹œê°„ ì´í›„ ë¡œê·¸
docker compose logs --since 10m backend

# í—¬í¼ ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©
./shell-script/check-logs.sh backend --since 10m --tail 200
./shell-script/check-logs.sh frontend --tail 100
```

---

## 8. ë¬¸ì œ í•´ê²°

### 8.1 Docker ê¶Œí•œ ë¬¸ì œ

**ì¦ìƒ**: `permission denied while trying to connect to the Docker daemon socket`

**í•´ê²°ì±…**:

```bash
# ì‚¬ìš©ìë¥¼ docker ê·¸ë£¹ì— ì¶”ê°€
sudo usermod -aG docker $USER

# ê·¸ë£¹ ì¦‰ì‹œ ì ìš©
newgrp docker

# ë˜ëŠ” ì™„ì „ ì¬ë¡œê·¸ì¸
exit
# SSH ì¬ì ‘ì†

# Docker ë™ì‘ í™•ì¸
docker ps
```

### 8.2 Docker Compose ëª…ë ¹ ì˜¤ë¥˜

**ì¦ìƒ**: `docker-compose: command not found` ë˜ëŠ” `docker compose: command not found`

**í•´ê²°ì±…**:

```bash
# Docker Compose Plugin ì„¤ì¹˜ í™•ì¸
docker compose version

# ì„¤ì¹˜ë˜ì§€ ì•Šì€ ê²½ìš°
sudo mkdir -p /usr/local/lib/docker/cli-plugins
sudo curl -SL https://github.com/docker/compose/releases/download/v2.39.2/docker-compose-linux-x86_64 \
    -o /usr/local/lib/docker/cli-plugins/docker-compose
sudo chmod +x /usr/local/lib/docker/cli-plugins/docker-compose

# í•˜ì´í”ˆ ë²„ì „ë„ ì„¤ì¹˜ (í˜¸í™˜ì„±)
sudo curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" \
    -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose
```

### 8.3 PostgreSQL ì—°ê²° ì‹¤íŒ¨

**ì¦ìƒ**: `could not connect to server: Connection refused`

**í•´ê²°ì±…**:

```bash
# PostgreSQL ì»¨í…Œì´ë„ˆ ìƒíƒœ í™•ì¸
docker compose ps postgres

# PostgreSQL ë¡œê·¸ í™•ì¸
docker compose logs postgres

# PostgreSQL ì¬ì‹œì‘
docker compose restart postgres

# ì¤€ë¹„ ìƒíƒœ í™•ì¸
docker compose exec postgres pg_isready -U wkms
```

### 8.4 í™˜ê²½ ë³€ìˆ˜ ëˆ„ë½ ì˜¤ë¥˜

**ì¦ìƒ**: `KeyError: 'DATABASE_URL'` ë˜ëŠ” `None type error`

**í•´ê²°ì±…**:

```bash
# í™˜ê²½ ë³€ìˆ˜ íŒŒì¼ ì¡´ì¬ í™•ì¸
ls -la .env.development frontend/.env

# í™˜ê²½ ë³€ìˆ˜ ê²€ì¦
./shell-script/validate-env.sh .env.development

# ëˆ„ë½ëœ ë³€ìˆ˜ ì¶”ê°€
vi .env.development

# ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘ (í™˜ê²½ ë³€ìˆ˜ ì¬ë¡œë”©)
docker compose down
docker compose --env-file .env.development up -d
```

### 8.5 í”„ë¡ íŠ¸ì—”ë“œ-ë°±ì—”ë“œ ì—°ê²° ì‹¤íŒ¨

**ì¦ìƒ**: í”„ë¡ íŠ¸ì—”ë“œì—ì„œ API í˜¸ì¶œ ì‹¤íŒ¨ (CORS ì˜¤ë¥˜, Network Error)

**ì›ì¸ ë° í•´ê²°ì±…**:

#### ì›ì¸ 1: frontend/.env íŒŒì¼ ëˆ„ë½

```bash
# frontend/.env ìƒì„±
cat > frontend/.env << EOF
REACT_APP_API_URL=http://localhost:8000
REACT_APP_ENV=development
EOF

# í”„ë¡ íŠ¸ì—”ë“œ ì¬ë¹Œë“œ í•„ìˆ˜!
docker compose build frontend
docker compose up -d frontend
```

#### ì›ì¸ 2: CORS ì„¤ì • ì˜¤ë¥˜

```bash
# .env.development í™•ì¸
vi .env.development

# CORS_ORIGINS ì„¤ì • í™•ì¸
CORS_ORIGINS=["http://localhost:3000","http://127.0.0.1:3000"]

# ë°±ì—”ë“œ ì¬ì‹œì‘
docker compose restart backend
```

#### ì›ì¸ 3: ë°±ì—”ë“œ í¬íŠ¸ ì¶©ëŒ

```bash
# 8000 í¬íŠ¸ ì‚¬ìš© í™•ì¸
sudo lsof -i :8000
# ë˜ëŠ”
sudo netstat -tulpn | grep 8000

# ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ê°€ ì‚¬ìš© ì¤‘ì´ë©´ ì¢…ë£Œ
sudo kill -9 <PID>

# ë°±ì—”ë“œ ì¬ì‹œì‘
docker compose restart backend
```

### 8.6 LibreOffice ë³€í™˜ ì‹¤íŒ¨ ë° í•œê¸€ ê¹¨ì§

#### ì¦ìƒ 1: ë¬¸ì„œ ë·°ì–´ì—ì„œ í•œê¸€ì´ ê¹¨ì ¸ì„œ í‘œì‹œë¨ (â–¡â–¡â–¡ ë˜ëŠ” ë¹ˆì¹¸)

**ì›ì¸**: ì„œë²„ì— í•œêµ­ì–´ í°íŠ¸ê°€ ì„¤ì¹˜ë˜ì§€ ì•ŠìŒ

**í•´ê²°ì±…**:

```bash
# ================================================================
# Step 1: í•œêµ­ì–´ í°íŠ¸ ì„¤ì¹˜ (Ubuntu/Debian)
# ================================================================

# Noto CJK í°íŠ¸ (í•„ìˆ˜ - í•œì¤‘ì¼ ìœ ë‹ˆì½”ë“œ ì§€ì›)
sudo apt-get update
sudo apt-get install -y fonts-noto-cjk fonts-noto-cjk-extra

# ë‚˜ëˆ” í°íŠ¸ (ì„ íƒ - ë” ë‚˜ì€ í•œê¸€ ê°€ë…ì„±)
sudo apt-get install -y fonts-nanum fonts-nanum-coding fonts-nanum-extra

# ================================================================
# Step 2: í•œêµ­ì–´ ë¡œì¼€ì¼ ìƒì„±
# ================================================================

sudo locale-gen ko_KR.UTF-8
sudo update-locale

# ë¡œì¼€ì¼ í™•ì¸
locale -a | grep ko
# ì¶œë ¥: ko_KR.utf8

# ================================================================
# Step 3: í°íŠ¸ ìºì‹œ ì—…ë°ì´íŠ¸
# ================================================================

sudo fc-cache -fv

# í•œêµ­ì–´ í°íŠ¸ ì„¤ì¹˜ í™•ì¸
fc-list :lang=ko | head -10
# ì˜ˆìƒ ì¶œë ¥:
# /usr/share/fonts/opentype/noto/NotoSansCJK-Regular.ttc: Noto Sans CJK KR:style=Regular
# /usr/share/fonts/truetype/nanum/NanumGothic.ttf: NanumGothic,ë‚˜ëˆ”ê³ ë”•:style=Regular

# ================================================================
# Step 4: ê¸°ì¡´ PDF ìºì‹œ ì‚­ì œ (ì¤‘ìš”!)
# ================================================================

# ì´ì „ì— ê¹¨ì§„ ìƒíƒœë¡œ ë³€í™˜ëœ PDF ìºì‹œ ì‚­ì œ
rm -rf ~/Dev/abekm/backend/uploads/pdf_cache/*

# ================================================================
# Step 5: ë°±ì—”ë“œ ì¬ì‹œì‘
# ================================================================

# ì„œë¹„ìŠ¤ë¡œ ì‹¤í–‰ ì¤‘ì¸ ê²½ìš°
sudo systemctl restart abekm-backend

# Dockerë¡œ ì‹¤í–‰ ì¤‘ì¸ ê²½ìš°
docker compose restart backend

# ì§ì ‘ ì‹¤í–‰ ì¤‘ì¸ ê²½ìš°
# Ctrl+Cë¡œ ì¢…ë£Œ í›„ ì¬ì‹œì‘
```

#### ì¦ìƒ 2: LibreOffice ë³€í™˜ ì˜¤ë¥˜ (conversion failed)

**ì›ì¸**: LibreOfficeê°€ ì„¤ì¹˜ë˜ì§€ ì•Šì•˜ê±°ë‚˜ headless ëª¨ë“œê°€ ì§€ì›ë˜ì§€ ì•ŠìŒ

**í•´ê²°ì±…**:

```bash
# LibreOffice ì„¤ì¹˜ í™•ì¸
which libreoffice
libreoffice --version

# LibreOffice ì„¤ì¹˜ (Ubuntu/Debian)
sudo apt-get install -y \
    libreoffice \
    libreoffice-writer \
    libreoffice-calc \
    libreoffice-impress \
    libreoffice-java-common \
    default-jre

# LibreOffice headless í…ŒìŠ¤íŠ¸
echo "í…ŒìŠ¤íŠ¸ ë¬¸ì„œ" > /tmp/test.txt
libreoffice --headless --convert-to pdf --outdir /tmp /tmp/test.txt
ls -la /tmp/test.pdf
rm /tmp/test.txt /tmp/test.pdf
```

#### ì¦ìƒ 3: íŒŒì¼ ë·°ì–´ê°€ ë¹ˆ í™”ë©´ìœ¼ë¡œ í‘œì‹œë¨ (iframe ë¡œë“œ ì‹¤íŒ¨)

**ì›ì¸**: í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ë°±ì—”ë“œ API URLì´ ì˜ëª» ì„¤ì •ë¨ (iframeì€ í”„ë¡ì‹œë¥¼ ê±°ì¹˜ì§€ ì•ŠìŒ)

**í•´ê²°ì±…**:

`frontend/src/components/common/FileViewer.tsx` ì½”ë“œ í™•ì¸:

```typescript
// iframeì—ì„œëŠ” í”„ë¡ì‹œë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ë°±ì—”ë“œ URLì„ ì§ì ‘ ì‚¬ìš©í•´ì•¼ í•¨
const getFileViewerUrl = (document: Document): string => {
  // ê°œë°œ í™˜ê²½: http://localhost:8000
  // í”„ë¡œë•ì…˜ í™˜ê²½: REACT_APP_API_URL ë˜ëŠ” ë¹ˆ ë¬¸ìì—´ (nginx í”„ë¡ì‹œ)
  const baseUrl = process.env.REACT_APP_API_URL || 'http://localhost:8000';
  // ...
};
```

í”„ë¡ íŠ¸ì—”ë“œ í™˜ê²½ ë³€ìˆ˜ í™•ì¸:

```bash
# frontend/.env íŒŒì¼ í™•ì¸
cat frontend/.env

# ê°œë°œ í™˜ê²½ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •ë˜ì–´ì•¼ í•¨
# REACT_APP_API_URL=http://localhost:8000  (ë˜ëŠ” ë¹„ì›Œë‘ê¸°)
```

#### ì¦ìƒ 4: PDF ë³€í™˜ í›„ í˜ì´ì§€ê°€ ëˆ„ë½ë˜ê±°ë‚˜ ë ˆì´ì•„ì›ƒì´ ê¹¨ì§

**ì›ì¸**: LibreOffice ë²„ì „ ë˜ëŠ” ë³€í™˜ ì˜µì…˜ ë¬¸ì œ

**í•´ê²°ì±…**:

```bash
# LibreOffice ë²„ì „ í™•ì¸ (7.x ì´ìƒ ê¶Œì¥)
libreoffice --version

# LibreOffice ì—…ë°ì´íŠ¸
sudo apt-get update
sudo apt-get install --only-upgrade libreoffice

# ìˆ˜ë™ ë³€í™˜ í…ŒìŠ¤íŠ¸ (ë””ë²„ê¹…ìš©)
libreoffice --headless --convert-to pdf \
    --outdir /tmp \
    /path/to/your/document.docx

# PDF í™•ì¸
ls -la /tmp/*.pdf
```

### 8.7 ë©”ëª¨ë¦¬ ë¶€ì¡± ì˜¤ë¥˜

**ì¦ìƒ**: `MemoryError`, `OOM killed`, ì»¨í…Œì´ë„ˆ ìë™ ì¬ì‹œì‘

**í•´ê²°ì±…**:

```bash
# ì‹œìŠ¤í…œ ë©”ëª¨ë¦¬ í™•ì¸
free -h

# Docker ë©”ëª¨ë¦¬ ì œí•œ í™•ì¸
docker stats

# ìŠ¤ì™‘ ìƒì„± (ê¶Œì¥: 1-2GB)
sudo fallocate -l 2G /swapfile
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile

# ì˜êµ¬ ì„¤ì •
echo '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab

# docker-compose.yml ë©”ëª¨ë¦¬ ì œí•œ ì¶”ê°€
vi docker-compose.yml
# services:
#   backend:
#     deploy:
#       resources:
#         limits:
#           memory: 2G
```

### 8.8 ë””ìŠ¤í¬ ê³µê°„ ë¶€ì¡±

**ì¦ìƒ**: `No space left on device`

**í•´ê²°ì±…**:

```bash
# ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ í™•ì¸
df -h

# Docker ë¦¬ì†ŒìŠ¤ ì •ë¦¬
docker system prune -a --volumes
# ì£¼ì˜: ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì´ë¯¸ì§€, ì»¨í…Œì´ë„ˆ, ë³¼ë¥¨ ëª¨ë‘ ì‚­ì œë¨!

# ë¡œê·¸ íŒŒì¼ ì •ë¦¬
sudo journalctl --vacuum-time=7d
sudo journalctl --vacuum-size=500M

# ì˜¤ë˜ëœ ë¡œê·¸ íŒŒì¼ ì‚­ì œ
sudo find /var/log -type f -name "*.log" -mtime +30 -delete
```

### 8.9 í¬íŠ¸ ì¶©ëŒ ë¬¸ì œ

**ì¦ìƒ**: `port is already allocated`

**í•´ê²°ì±…**:

```bash
# ì‚¬ìš© ì¤‘ì¸ í¬íŠ¸ í™•ì¸
sudo lsof -i :3000  # Frontend
sudo lsof -i :8000  # Backend
sudo lsof -i :5432  # PostgreSQL
sudo lsof -i :6379  # Redis

# í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
sudo kill -9 <PID>

# ë˜ëŠ” docker-compose.ymlì—ì„œ í¬íŠ¸ ë³€ê²½
vi docker-compose.yml
# ports:
#   - "8001:8000"  # í˜¸ìŠ¤íŠ¸:ì»¨í…Œì´ë„ˆ
```

### 8.10 Alembic ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤íŒ¨

**ì¦ìƒ**: `alembic.util.exc.CommandError: Can't locate revision`

**í•´ê²°ì±…**:

```bash
# backend ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd backend

# ë§ˆì´ê·¸ë ˆì´ì…˜ íˆìŠ¤í† ë¦¬ í™•ì¸
alembic history

# í˜„ì¬ ë²„ì „ í™•ì¸
alembic current

# ì´ˆê¸°í™” (ì£¼ì˜: ë°ì´í„° ì†ì‹¤!)
alembic downgrade base
alembic upgrade head

# ìƒˆ ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„± (í•„ìš”ì‹œ)
alembic revision --autogenerate -m "description"
```

### 8.11 Python ì„í¬íŠ¸ ì˜¤ë¥˜ í•´ê²° (ModuleNotFoundError, ImportError)

**ì¦ìƒ**: ë°±ì—”ë“œ ì„œë²„ ì‹œì‘ ì‹œ ì„í¬íŠ¸ ì˜¤ë¥˜ ë°œìƒ

```
ModuleNotFoundError: No module named 'app.tools.presentation.quick_pptx_builder_tool'
ModuleNotFoundError: No module named 'app.services.presentation.quick_ppt_generator_service'
NameError: name 'quick_pptx_builder_tool' is not defined
```

ì´ëŸ¬í•œ ì˜¤ë¥˜ëŠ” ì¼ë¶€ ëª¨ë“ˆì´ Deprecatedë˜ì—ˆê±°ë‚˜ ë¦¬íŒ©í† ë§ë˜ì–´ íŒŒì¼ êµ¬ì¡°ê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œ ë°œìƒí•©ë‹ˆë‹¤.

#### 8.11.1 ì„í¬íŠ¸ ì˜¤ë¥˜ ì¼ê´„ í™•ì¸

```bash
# í”„ë¡œì íŠ¸ ë£¨íŠ¸ë¡œ ì´ë™
cd ~/abekm

# ê°€ìƒí™˜ê²½ í™œì„±í™”
source .venv/bin/activate

# ë°±ì—”ë“œ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd backend

# í…ŒìŠ¤íŠ¸ ì„í¬íŠ¸ (ì˜¤ë¥˜ í™•ì¸)
python -c "import app.main"

# ì˜¤ë¥˜ ë°œìƒ ì‹œ ìƒì„¸ ë¡œê·¸ í™•ì¸
python -c "import sys; sys.path.insert(0, '.'); import app.main" 2>&1 | head -50
```

#### 8.11.2 ì¼ë°˜ì ì¸ ì„í¬íŠ¸ ì˜¤ë¥˜ íŒ¨í„´ê³¼ í•´ê²°ì±…

**1. `quick_pptx_builder_tool` ê´€ë ¨ ì˜¤ë¥˜**

ì´ ëª¨ë“ˆì€ `templated_pptx_builder_tool`ë¡œ í†µí•©ë˜ì—ˆìŠµë‹ˆë‹¤.

```bash
# ì˜ëª»ëœ ì„í¬íŠ¸ë¥¼ ì°¾ì•„ ì£¼ì„ ì²˜ë¦¬
cd ~/abekm/backend

# íŒŒì¼ ê²€ìƒ‰
grep -r "quick_pptx_builder_tool" app/ --include="*.py"

# ìˆ˜ë™ ìˆ˜ì • ë˜ëŠ” ìë™ ì£¼ì„ ì²˜ë¦¬
find app/ -name "*.py" -exec sed -i 's/^from.*quick_pptx_builder_tool.*/# &  # Deprecated/g' {} \;
find app/ -name "*.py" -exec sed -i 's/^import.*quick_pptx_builder_tool.*/# &  # Deprecated/g' {} \;
```

**ì£¼ìš” ìˆ˜ì • íŒŒì¼**:
- `app/agents/presentation/unified_presentation_agent.py` - ì„í¬íŠ¸ ë° ì‚¬ìš© ì½”ë“œ ì œê±°
- `app/tools/presentation/__init__.py` - ì„í¬íŠ¸ ì£¼ì„ ì²˜ë¦¬

**2. `quick_ppt_generator_service` ê´€ë ¨ ì˜¤ë¥˜**

ì´ ì„œë¹„ìŠ¤ëŠ” ë” ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

```bash
# ì˜í–¥ ë°›ëŠ” íŒŒì¼ ì°¾ê¸°
grep -r "quick_ppt_generator_service" app/ --include="*.py"

# ì£¼ì„ ì²˜ë¦¬
sed -i 's/^from.*quick_ppt_generator_service.*/# &  # Deprecated/g' app/api/v1/presentation.py
sed -i 's/^from.*quick_ppt_generator_service.*/# &  # Deprecated/g' app/services/multi_agent/enhanced_agent_tools.py
```

**3. `large_file_processor` ê´€ë ¨ ì˜¤ë¥˜**

ì´ í”„ë¡œì„¸ì„œëŠ” Deprecatedë˜ì—ˆê±°ë‚˜ ì´ë™ë˜ì—ˆìŠµë‹ˆë‹¤.

```bash
# ì£¼ì„ ì²˜ë¦¬
sed -i 's/^from.*large_file_processor.*/# &  # Deprecated/g' app/api/v1/files.py
sed -i 's/^from.*large_file_processor.*/# &  # Deprecated/g' app/services/document/pipeline/__init__.py
```

**4. `supervisor_agent` OpenAI API Key ì˜¤ë¥˜**

```bash
# app/agents/supervisor_agent.py íŒŒì¼ ìˆ˜ì •
# ai_serviceë¥¼ ì‚¬ìš©í•˜ë„ë¡ ë³€ê²½ (Azure OpenAI ë˜ëŠ” Bedrock ì‚¬ìš©)
```

ìˆ˜ì • ì˜ˆì‹œ:
```python
# ìˆ˜ì • ì „
llm = ChatOpenAI(
    model=settings.openai_llm_model or "gpt-4o",
    api_key=settings.openai_api_key,
    temperature=0
)

# ìˆ˜ì • í›„
try:
    from app.services.core.ai_service import ai_service
    llm = ai_service.get_chat_model(temperature=0)
except Exception as e:
    logger.warning(f"Failed to initialize ai_service: {e}")
    # Fallback to Azure OpenAI
    api_key = settings.azure_openai_api_key
    if api_key:
        llm = ChatOpenAI(
            model=settings.openai_llm_model or "gpt-4o",
            api_key=api_key,
            temperature=0
        )
```

#### 8.11.3 ì„í¬íŠ¸ ì˜¤ë¥˜ ì²´ê³„ì  í•´ê²° í”„ë¡œì„¸ìŠ¤

1. **ì˜¤ë¥˜ ë¡œê·¸ ìˆ˜ì§‘**
```bash
cd ~/abekm
./shell-script/dev-start-backend.sh 2>&1 | tee /tmp/backend_error.log
```

2. **ì˜¤ë¥˜ íŒŒì¼ íŒŒì•…**
```bash
# ì˜¤ë¥˜ ë°œìƒ íŒŒì¼ ëª©ë¡ ì¶”ì¶œ
grep "File \"" /tmp/backend_error.log | grep "\.py" | cut -d'"' -f2 | sort -u
```

3. **Deprecated ëª¨ë“ˆ ëª©ë¡ í™•ì¸**
```bash
# ì¡´ì¬í•˜ì§€ ì•ŠëŠ” íŒŒì¼ ì°¾ê¸°
cd ~/abekm/backend
for file in $(grep -r "^from app\." app/ --include="*.py" | sed 's/.*from \(app[^ ]*\).*/\1/' | sed 's/\./\//g' | sort -u); do
    if [ ! -f "${file}.py" ]; then
        echo "Missing: ${file}.py"
    fi
done
```

4. **ì¼ê´„ ì£¼ì„ ì²˜ë¦¬ ìŠ¤í¬ë¦½íŠ¸**

```bash
#!/bin/bash
# íŒŒì¼ëª…: fix_deprecated_imports.sh

echo "ğŸ”§ Deprecated ì„í¬íŠ¸ ì˜¤ë¥˜ ìë™ ìˆ˜ì • ì‹œì‘..."

cd ~/abekm/backend

# Deprecated ëª¨ë“ˆ ëª©ë¡
DEPRECATED_MODULES=(
    "quick_pptx_builder_tool"
    "quick_ppt_generator_service"
    "large_file_processor"
)

# ê° ëª¨ë“ˆì— ëŒ€í•´ ê²€ìƒ‰ ë° ì£¼ì„ ì²˜ë¦¬
for module in "${DEPRECATED_MODULES[@]}"; do
    echo "  ì²˜ë¦¬ ì¤‘: $module"
    
    # ì„í¬íŠ¸ ë¬¸ ì£¼ì„ ì²˜ë¦¬
    find app/ -name "*.py" -type f -exec sed -i "s/^from.*${module}.*/# &  # Deprecated/g" {} \;
    find app/ -name "*.py" -type f -exec sed -i "s/^import.*${module}.*/# &  # Deprecated/g" {} \;
    
    # ë³€ê²½ëœ íŒŒì¼ í™•ì¸
    git diff --name-only | grep "${module}" || echo "    ë³€ê²½ ì—†ìŒ"
done

echo "âœ… ìë™ ìˆ˜ì • ì™„ë£Œ!"
echo "ğŸ“ ë³€ê²½ ì‚¬í•­ í™•ì¸: git diff"
```

5. **ë°±ì—”ë“œ ì¬ì‹œì‘ ë° í™•ì¸**
```bash
cd ~/abekm
./shell-script/dev-start-backend.sh

# 10ì´ˆ í›„ í—¬ìŠ¤ ì²´í¬
sleep 10
curl -s http://localhost:8000/health | python -m json.tool
```

#### 8.11.4 ì„í¬íŠ¸ ì˜¤ë¥˜ ì˜ˆë°©

**ê°œë°œ í™˜ê²½ ì„¤ì • ì‹œ ê¶Œì¥ ì‚¬í•­**:

1. **ê°€ìƒí™˜ê²½ ì‚¬ìš©**
```bash
# í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— ê°€ìƒí™˜ê²½ ìƒì„±
python3.11 -m venv .venv
source .venv/bin/activate
```

2. **requirements.txt ìµœì‹  ìœ ì§€**
```bash
cd backend
pip install --upgrade -r requirements.txt
```

3. **ì •ê¸°ì ì¸ ì½”ë“œ ê²€ì¦**
```bash
# Python ë¬¸ë²• ê²€ì‚¬
python -m py_compile app/main.py

# ëª¨ë“  Python íŒŒì¼ ê²€ì‚¬
find app/ -name "*.py" -exec python -m py_compile {} \;
```

4. **IDE ì„¤ì • (VS Code)**
```json
// .vscode/settings.json
{
    "python.defaultInterpreterPath": "${workspaceFolder}/.venv/bin/python",
    "python.linting.enabled": true,
    "python.linting.pylintEnabled": true,
    "python.analysis.extraPaths": [
        "${workspaceFolder}/backend"
    ]
}
```

### 8.12 ì¼ë°˜ì ì¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

ë¬¸ì œ ë°œìƒ ì‹œ ë‹¤ìŒì„ ìˆœì„œëŒ€ë¡œ í™•ì¸í•˜ì„¸ìš”:

- [ ] Docker ë°ëª¬ì´ ì‹¤í–‰ ì¤‘ì¸ê°€? `sudo systemctl status docker`
- [ ] í™˜ê²½ ë³€ìˆ˜ íŒŒì¼ì´ ì¡´ì¬í•˜ëŠ”ê°€? `ls -la .env.development frontend/.env`
- [ ] í™˜ê²½ ë³€ìˆ˜ê°€ ì˜¬ë°”ë¥¸ê°€? `./shell-script/validate-env.sh .env.development`
- [ ] ëª¨ë“  ì»¨í…Œì´ë„ˆê°€ ì‹¤í–‰ ì¤‘ì¸ê°€? `docker compose ps`
- [ ] ë„¤íŠ¸ì›Œí¬ê°€ ì •ìƒì¸ê°€? `docker network ls`
- [ ] ë¡œê·¸ì— ì˜¤ë¥˜ê°€ ìˆëŠ”ê°€? `docker compose logs`
- [ ] ë””ìŠ¤í¬ ê³µê°„ì´ ì¶©ë¶„í•œê°€? `df -h`
- [ ] ë©”ëª¨ë¦¬ê°€ ì¶©ë¶„í•œê°€? `free -h`

---

## 9. ì„¤ì¹˜ í›„ í™˜ê²½ ê²€ì¦ ë° ì²´í¬ë¦¬ìŠ¤íŠ¸

### 9.1 ì „ì²´ ì‹œìŠ¤í…œ ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸

ì„¤ì¹˜ ì™„ë£Œ í›„ ì•„ë˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ì—¬ ê°œë°œ í™˜ê²½ì´ ì˜¬ë°”ë¥´ê²Œ êµ¬ì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
#!/bin/bash
# ABEKM ê°œë°œí™˜ê²½ ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸
# íŒŒì¼ëª…: check_dev_environment.sh

echo "ğŸ” ABEKM ê°œë°œí™˜ê²½ ê²€ì¦ì„ ì‹œì‘í•©ë‹ˆë‹¤..."
echo ""

# ìƒ‰ìƒ ì •ì˜
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m' # No Color

# ê²€ì¦ ê²°ê³¼ ì¹´ìš´í„°
PASS=0
FAIL=0
WARN=0

# ê²€ì¦ í•¨ìˆ˜
check_item() {
    local item_name=$1
    local command=$2
    local expected=$3
    local severity=$4  # CRITICAL, IMPORTANT, RECOMMENDED
    
    echo -n "  [$item_name] "
    
    if eval "$command" > /dev/null 2>&1; then
        echo -e "${GREEN}âœ“ PASS${NC}"
        ((PASS++))
        return 0
    else
        if [ "$severity" == "CRITICAL" ]; then
            echo -e "${RED}âœ— FAIL (ì‹¬ê°)${NC}"
            ((FAIL++))
        elif [ "$severity" == "IMPORTANT" ]; then
            echo -e "${YELLOW}âš  WARN (ì¤‘ìš”)${NC}"
            ((WARN++))
        else
            echo -e "${YELLOW}âš  WARN (ê¶Œì¥)${NC}"
            ((WARN++))
        fi
        return 1
    fi
}

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "1. ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­ ê²€ì¦"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"

# OS í™•ì¸
echo -n "  [OS í™•ì¸] "
OS_INFO=$(cat /etc/os-release | grep PRETTY_NAME | cut -d'"' -f2)
echo -e "${GREEN}âœ“${NC} $OS_INFO"

# CPU ì½”ì–´ í™•ì¸
CPU_CORES=$(nproc)
echo -n "  [CPU ì½”ì–´] "
if [ "$CPU_CORES" -ge 2 ]; then
    echo -e "${GREEN}âœ“ PASS${NC} (${CPU_CORES} cores)"
    ((PASS++))
else
    echo -e "${RED}âœ— FAIL${NC} (${CPU_CORES} cores < 2 cores)"
    ((FAIL++))
fi

# ë©”ëª¨ë¦¬ í™•ì¸
MEMORY_GB=$(free -g | grep Mem | awk '{print $2}')
echo -n "  [ë©”ëª¨ë¦¬] "
if [ "$MEMORY_GB" -ge 8 ]; then
    echo -e "${GREEN}âœ“ PASS${NC} (${MEMORY_GB}GB)"
    ((PASS++))
else
    echo -e "${RED}âœ— FAIL${NC} (${MEMORY_GB}GB < 8GB)"
    ((FAIL++))
fi

# ë””ìŠ¤í¬ ì—¬ìœ  ê³µê°„ í™•ì¸
DISK_AVAIL_GB=$(df / | tail -1 | awk '{print int($4/1024/1024)}')
echo -n "  [ë””ìŠ¤í¬ ì—¬ìœ ê³µê°„] "
if [ "$DISK_AVAIL_GB" -ge 50 ]; then
    echo -e "${GREEN}âœ“ PASS${NC} (${DISK_AVAIL_GB}GB ì—¬ìœ )"
    ((PASS++))
else
    echo -e "${YELLOW}âš  WARN${NC} (${DISK_AVAIL_GB}GB < 50GB)"
    ((WARN++))
fi

echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "2. í•„ìˆ˜ ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ì¹˜ í™•ì¸"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"

check_item "Python 3.11+" "python3 --version | grep -E '3\.(11|12|13)'" "" "CRITICAL"
check_item "Docker" "docker --version" "" "CRITICAL"
check_item "Docker Compose" "docker compose version || docker-compose --version" "" "CRITICAL"
check_item "LibreOffice" "which libreoffice" "" "CRITICAL"
check_item "Java (LibreOfficeìš©)" "java -version" "" "CRITICAL"
check_item "Node.js 18+" "node --version | grep -E 'v(18|20|22)'" "" "IMPORTANT"
check_item "Git" "git --version" "" "IMPORTANT"

echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "3. í•œê¸€ í™˜ê²½ ì„¤ì • í™•ì¸"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"

# í•œê¸€ í°íŠ¸ í™•ì¸
FONT_COUNT=$(fc-list | grep -E "(Noto|Nanum)" | wc -l)
echo -n "  [í•œê¸€ í°íŠ¸] "
if [ "$FONT_COUNT" -gt 0 ]; then
    echo -e "${GREEN}âœ“ PASS${NC} (${FONT_COUNT}ê°œ í°íŠ¸ ì„¤ì¹˜ë¨)"
    ((PASS++))
else
    echo -e "${RED}âœ— FAIL${NC} (í•œê¸€ í°íŠ¸ ì—†ìŒ)"
    ((FAIL++))
fi

# ë¡œì¼€ì¼ í™•ì¸
echo -n "  [ë¡œì¼€ì¼ ì„¤ì •] "
LOCALE=$(locale | grep LANG | cut -d= -f2)
if [[ "$LOCALE" == *"ko_KR"* ]]; then
    echo -e "${GREEN}âœ“ PASS${NC} ($LOCALE)"
    ((PASS++))
else
    echo -e "${YELLOW}âš  WARN${NC} ($LOCALE, ê¶Œì¥: ko_KR.UTF-8)"
    ((WARN++))
fi

echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "4. í™˜ê²½ ë³€ìˆ˜ íŒŒì¼ í™•ì¸"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"

check_item ".env.development" "test -f .env.development" "" "CRITICAL"
check_item ".env.production" "test -f .env.production" "" "IMPORTANT"
check_item "frontend/.env" "test -f frontend/.env" "" "CRITICAL"
check_item "backend/.env (ì„ íƒ)" "test -f backend/.env" "" "RECOMMENDED"

echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "5. ë°ì´í„°ë² ì´ìŠ¤ ì„œë¹„ìŠ¤ í™•ì¸"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"

check_item "PostgreSQL ì»¨í…Œì´ë„ˆ" "docker ps | grep -E 'postgres|wkms-postgres|abkms-postgres'" "" "CRITICAL"
check_item "PostgreSQL ì—°ê²°" "docker exec \$(docker ps | grep postgres | awk '{print \$1}') pg_isready" "" "CRITICAL"
check_item "Redis ì»¨í…Œì´ë„ˆ" "docker ps | grep -E 'redis|wkms-redis|abkms-redis'" "" "CRITICAL"
check_item "Redis ì—°ê²°" "docker exec \$(docker ps | grep redis | awk '{print \$1}') redis-cli ping" "" "CRITICAL"

echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "6. ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë¹„ìŠ¤ í™•ì¸"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"

check_item "Backend ì»¨í…Œì´ë„ˆ" "docker ps | grep -E 'backend|wkms-backend|abkms-backend'" "" "IMPORTANT"
check_item "Frontend ì»¨í…Œì´ë„ˆ" "docker ps | grep -E 'frontend|wkms-frontend|abkms-frontend'" "" "IMPORTANT"
check_item "Nginx ì»¨í…Œì´ë„ˆ" "docker ps | grep -E 'nginx|wkms-nginx|abkms-nginx'" "" "RECOMMENDED"

echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "7. Celery ì›Œì»¤ í™•ì¸ (ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…)"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"

check_item "Celery ì›Œì»¤ í”„ë¡œì„¸ìŠ¤" "ps aux | grep -E 'celery.*worker' | grep -v grep" "" "CRITICAL"
check_item "Celery íŒ¨í‚¤ì§€ ì„¤ì¹˜" "cd backend && python3 -c 'import celery'" "" "CRITICAL"

echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "8. Python ê°œë°œ í™˜ê²½ í™•ì¸"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"

check_item "Python ê°€ìƒí™˜ê²½" "test -d backend/.venv" "" "RECOMMENDED"
check_item "requirements.txt" "test -f backend/requirements.txt" "" "CRITICAL"

echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ğŸ“Š ê²€ì¦ ê²°ê³¼ ìš”ì•½"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo -e "  ${GREEN}âœ“ PASS: $PASS${NC}"
echo -e "  ${YELLOW}âš  WARN: $WARN${NC}"
echo -e "  ${RED}âœ— FAIL: $FAIL${NC}"
echo ""

if [ "$FAIL" -eq 0 ]; then
    echo -e "${GREEN}ğŸ‰ ëª¨ë“  í•„ìˆ˜ í•­ëª©ì´ ì •ìƒì…ë‹ˆë‹¤!${NC}"
    exit 0
else
    echo -e "${RED}âš ï¸  $FAILê°œì˜ ì‹¬ê°í•œ ë¬¸ì œê°€ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤. ìœ„ ë‚´ìš©ì„ í™•ì¸í•˜ì„¸ìš”.${NC}"
    exit 1
fi
```

**ì‚¬ìš© ë°©ë²•**:

```bash
# ìŠ¤í¬ë¦½íŠ¸ ì €ì¥
cat > check_dev_environment.sh << 'EOF'
# (ìœ„ì˜ ìŠ¤í¬ë¦½íŠ¸ ë‚´ìš©)
EOF

# ì‹¤í–‰ ê¶Œí•œ ë¶€ì—¬
chmod +x check_dev_environment.sh

# ì‹¤í–‰
./check_dev_environment.sh
```

### 9.2 ìˆ˜ë™ ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸

ìë™ ìŠ¤í¬ë¦½íŠ¸ ëŒ€ì‹  ìˆ˜ë™ìœ¼ë¡œ ê²€ì¦í•˜ë ¤ëŠ” ê²½ìš°:

#### âœ… ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­

```bash
# OS ì •ë³´
cat /etc/os-release

# CPU ì½”ì–´ ìˆ˜
nproc
# ê¸°ëŒ€ê°’: 2 ì´ìƒ

# ë©”ëª¨ë¦¬
free -h
# ê¸°ëŒ€ê°’: 8GB ì´ìƒ

# ë””ìŠ¤í¬
df -h /
# ê¸°ëŒ€ê°’: 100GB ì´ìƒ (ì—¬ìœ  ê³µê°„ 50GB ì´ìƒ)
```

#### âœ… í•„ìˆ˜ ì†Œí”„íŠ¸ì›¨ì–´

```bash
# Python ë²„ì „
python3 --version
# ê¸°ëŒ€ê°’: Python 3.11.x

# Docker
docker --version
docker compose version
# ê¸°ëŒ€ê°’: Docker 20.x+, Compose v2.x+

# LibreOffice
libreoffice --version
# ê¸°ëŒ€ê°’: LibreOffice 7.x+

# Java
java -version
# ê¸°ëŒ€ê°’: OpenJDK 11+

# Node.js
node --version
# ê¸°ëŒ€ê°’: v18.x+
```

#### âœ… í•œê¸€ í™˜ê²½

```bash
# í•œê¸€ í°íŠ¸
fc-list | grep -E "(Noto|Nanum)" | wc -l
# ê¸°ëŒ€ê°’: 1ê°œ ì´ìƒ

# ë¡œì¼€ì¼
locale | grep LANG
# ê¶Œì¥ê°’: ko_KR.UTF-8
```

#### âœ… í™˜ê²½ ë³€ìˆ˜ íŒŒì¼

```bash
# í•„ìˆ˜ íŒŒì¼ í™•ì¸
ls -la .env.development
ls -la frontend/.env

# í•„ìˆ˜ ë³€ìˆ˜ í™•ì¸ (.env.development)
grep -E "DATABASE_URL|REDIS_URL|JWT_SECRET_KEY|CORS_ORIGINS" .env.development
```

#### âœ… Docker ì„œë¹„ìŠ¤

```bash
# ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆ
docker ps

# PostgreSQL í™•ì¸
docker ps | grep postgres
docker exec $(docker ps | grep postgres | awk '{print $1}') pg_isready -U wkms
# ê¸°ëŒ€ê°’: accepting connections

# Redis í™•ì¸
docker ps | grep redis
docker exec $(docker ps | grep redis | awk '{print $1}') redis-cli ping
# ê¸°ëŒ€ê°’: PONG

# ì „ì²´ ì„œë¹„ìŠ¤ ìƒíƒœ
docker compose ps
```

#### âœ… Celery ì›Œì»¤

```bash
# Celery ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ í™•ì¸
ps aux | grep -E "celery.*worker" | grep -v grep

# Celery íŒ¨í‚¤ì§€ í™•ì¸
cd backend
python3 -c "import celery; print(f'Celery version: {celery.__version__}')"

# Celery ì›Œì»¤ ìƒíƒœ (ì‹¤í–‰ ì¤‘ì¸ ê²½ìš°)
docker compose exec backend celery -A app.core.celery_app inspect active
```

#### âœ… ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™”

```bash
# PostgreSQL í…Œì´ë¸” í™•ì¸
docker exec $(docker ps | grep postgres | awk '{print $1}') psql -U wkms -d wkms -c "\dt"

# ì´ˆê¸° ë°ì´í„° í™•ì¸
docker exec $(docker ps | grep postgres | awk '{print $1}') psql -U wkms -d wkms -c "SELECT COUNT(*) FROM tb_users;"
# ê¸°ëŒ€ê°’: 9 ì´ìƒ (ì´ˆê¸° ì‚¬ìš©ì)

docker exec $(docker ps | grep postgres | awk '{print $1}') psql -U wkms -d wkms -c "SELECT COUNT(*) FROM tb_knowledge_containers;"
# ê¸°ëŒ€ê°’: 12 (ì´ˆê¸° ì»¨í…Œì´ë„ˆ)
```

### 9.3 ì¼ê´„ ì„¤ì • ìŠ¤í¬ë¦½íŠ¸

ê²€ì¦ ê²°ê³¼ ë¬¸ì œê°€ ë°œê²¬ëœ ê²½ìš°, ì•„ë˜ ìŠ¤í¬ë¦½íŠ¸ë¡œ ì¼ê´„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
#!/bin/bash
# ABEKM ê°œë°œ í™˜ê²½ ì¼ê´„ ì„¤ì • ìŠ¤í¬ë¦½íŠ¸
# íŒŒì¼ëª…: setup_dev_environment.sh

set -e  # ì˜¤ë¥˜ ë°œìƒ ì‹œ ì¤‘ë‹¨

cd /home/wjadmin/Dev/abekm

echo "ğŸš€ ABEKM ê°œë°œ í™˜ê²½ ì„¤ì •ì„ ì‹œì‘í•©ë‹ˆë‹¤..."
echo ""

# 1. í™˜ê²½ ë³€ìˆ˜ íŒŒì¼ ìƒì„±
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "1. í™˜ê²½ ë³€ìˆ˜ íŒŒì¼ ìƒì„±"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"

if [ ! -f .env.development ]; then
    echo "ğŸ“ .env.development íŒŒì¼ ìƒì„± ì¤‘..."
    cat > .env.development << 'EOF'
# ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • (Docker ì„œë¹„ìŠ¤ëª… ì‚¬ìš©)
DATABASE_URL=postgresql+asyncpg://wkms:wkms123@postgres:5432/wkms
POSTGRES_USER=wkms
POSTGRES_PASSWORD=wkms123
POSTGRES_DB=wkms

# Redis ì„¤ì • (Docker ì„œë¹„ìŠ¤ëª… ì‚¬ìš©)
REDIS_URL=redis://redis:6379

# JWT ë° ë³´ì•ˆ ì„¤ì •
JWT_SECRET_KEY=dev-secret-key-change-in-production
SECRET_KEY=dev-secret-key-change-in-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# CORS ì„¤ì • (ë¡œì»¬ ê°œë°œ)
CORS_ORIGINS=["http://localhost:3000","http://127.0.0.1:3000"]
ENVIRONMENT=development

# ìŠ¤í† ë¦¬ì§€ ì„¤ì •
STORAGE_BACKEND=local
LOCAL_UPLOAD_DIR=/app/uploads

# AI í”„ë¡œë°”ì´ë” ì„¤ì • (ì„ íƒì‚¬í•­)
AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your-key
# AWS_SECRET_ACCESS_KEY=your-secret
EOF
    echo "âœ… .env.development íŒŒì¼ ìƒì„± ì™„ë£Œ"
else
    echo "â­ï¸  .env.development íŒŒì¼ì´ ì´ë¯¸ ì¡´ì¬í•©ë‹ˆë‹¤."
fi

if [ ! -f frontend/.env ]; then
    echo "ğŸ“ frontend/.env íŒŒì¼ ìƒì„± ì¤‘..."
    mkdir -p frontend
    cat > frontend/.env << 'EOF'
# API ì—”ë“œí¬ì¸íŠ¸ (ë¡œì»¬ ê°œë°œ)
REACT_APP_API_URL=http://localhost:8000
REACT_APP_ENV=development

# WebSocket ì—”ë“œí¬ì¸íŠ¸ (ì„ íƒì‚¬í•­)
REACT_APP_WS_URL=ws://localhost:8000/ws
EOF
    echo "âœ… frontend/.env íŒŒì¼ ìƒì„± ì™„ë£Œ"
else
    echo "â­ï¸  frontend/.env íŒŒì¼ì´ ì´ë¯¸ ì¡´ì¬í•©ë‹ˆë‹¤."
fi

echo ""

# 2. Python ê°€ìƒí™˜ê²½ êµ¬ì„±
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "2. Python ê°€ìƒí™˜ê²½ êµ¬ì„±"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"

if [ ! -d backend/.venv ]; then
    echo "ğŸ Python ê°€ìƒí™˜ê²½ ìƒì„± ì¤‘..."
    cd backend
    python3 -m venv .venv
    echo "âœ… Python ê°€ìƒí™˜ê²½ ìƒì„± ì™„ë£Œ"
    
    echo "ğŸ“¦ Python íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì¤‘..."
    source .venv/bin/activate
    pip install --upgrade pip
    pip install -r requirements.txt
    echo "âœ… Python íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì™„ë£Œ"
    cd ..
else
    echo "â­ï¸  Python ê°€ìƒí™˜ê²½ì´ ì´ë¯¸ ì¡´ì¬í•©ë‹ˆë‹¤."
    echo "ğŸ“¦ íŒ¨í‚¤ì§€ ì—…ë°ì´íŠ¸ í™•ì¸ ì¤‘..."
    cd backend
    source .venv/bin/activate
    pip install -r requirements.txt
    cd ..
    echo "âœ… íŒ¨í‚¤ì§€ ì—…ë°ì´íŠ¸ ì™„ë£Œ"
fi

echo ""

# 3. Docker ì„œë¹„ìŠ¤ í™•ì¸ ë° ì‹œì‘
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "3. Docker ì„œë¹„ìŠ¤ í™•ì¸ ë° ì‹œì‘"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"

# PostgreSQLê³¼ Redis í™•ì¸
if docker ps | grep -E "postgres|redis" > /dev/null 2>&1; then
    echo "âœ… PostgreSQLê³¼ Redisê°€ ì´ë¯¸ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤."
else
    echo "ğŸ³ PostgreSQLê³¼ Redis ì‹œì‘ ì¤‘..."
    docker compose --env-file .env.development up -d postgres redis
    echo "â³ ì„œë¹„ìŠ¤ ì¤€ë¹„ ëŒ€ê¸° ì¤‘ (20ì´ˆ)..."
    sleep 20
    echo "âœ… PostgreSQLê³¼ Redis ì‹œì‘ ì™„ë£Œ"
fi

# PostgreSQL ì—°ê²° í™•ì¸
echo -n "ğŸ” PostgreSQL ì—°ê²° í™•ì¸... "
POSTGRES_CONTAINER=$(docker ps | grep postgres | awk '{print $1}')
if docker exec $POSTGRES_CONTAINER pg_isready -U wkms > /dev/null 2>&1; then
    echo "âœ…"
else
    echo "âŒ PostgreSQL ì—°ê²° ì‹¤íŒ¨"
    exit 1
fi

# Redis ì—°ê²° í™•ì¸
echo -n "ğŸ” Redis ì—°ê²° í™•ì¸... "
REDIS_CONTAINER=$(docker ps | grep redis | awk '{print $1}')
if docker exec $REDIS_CONTAINER redis-cli ping > /dev/null 2>&1; then
    echo "âœ…"
else
    echo "âŒ Redis ì—°ê²° ì‹¤íŒ¨"
    exit 1
fi

echo ""

# 4. Celery ì›Œì»¤ ì‹œì‘
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "4. Celery ì›Œì»¤ ì‹œì‘"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"

if ps aux | grep -E "celery.*worker" | grep -v grep > /dev/null 2>&1; then
    echo "â­ï¸  Celery ì›Œì»¤ê°€ ì´ë¯¸ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤."
else
    echo "âš™ï¸  Celery ì›Œì»¤ ì‹œì‘ ì¤‘ (ë°±ê·¸ë¼ìš´ë“œ)..."
    cd backend
    source .venv/bin/activate
    nohup python3 -m celery -A app.core.celery_app worker --loglevel=info --concurrency=2 > ../celery.log 2>&1 &
    CELERY_PID=$!
    echo $CELERY_PID > ../celery.pid
    cd ..
    echo "âœ… Celery ì›Œì»¤ ì‹œì‘ ì™„ë£Œ (PID: $CELERY_PID)"
    echo "   ë¡œê·¸: tail -f celery.log"
fi

echo ""

# 5. ì „ì²´ ì„œë¹„ìŠ¤ ì‹œì‘ (ì„ íƒì‚¬í•­)
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "5. ì „ì²´ Docker ì„œë¹„ìŠ¤ ì‹œì‘ (ì„ íƒ)"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"

read -p "ì „ì²´ Docker ì„œë¹„ìŠ¤(backend, frontend, nginx ë“±)ë¥¼ ì‹œì‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (y/N): " -n 1 -r
echo
if [[ $REPLY =~ ^[Yy]$ ]]; then
    echo "ğŸ³ ì „ì²´ Docker ì„œë¹„ìŠ¤ ì‹œì‘ ì¤‘..."
    docker compose --env-file .env.development up -d
    echo "âœ… ì „ì²´ ì„œë¹„ìŠ¤ ì‹œì‘ ì™„ë£Œ"
else
    echo "â­ï¸  ì „ì²´ ì„œë¹„ìŠ¤ ì‹œì‘ì„ ê±´ë„ˆëœë‹ˆë‹¤."
fi

echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ğŸ‰ ABEKM ê°œë°œ í™˜ê²½ ì„¤ì •ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "ğŸ“Š ì„œë¹„ìŠ¤ í™•ì¸:"
echo "  - Frontend: http://localhost:3000"
echo "  - Backend API: http://localhost:8000"
echo "  - API Docs: http://localhost:8000/docs"
echo "  - pgAdmin: http://localhost:5050"
echo ""
echo "ğŸ“ ìœ ìš©í•œ ëª…ë ¹ì–´:"
echo "  - ì „ì²´ ë¡œê·¸: docker compose logs -f"
echo "  - ì„œë¹„ìŠ¤ ìƒíƒœ: docker compose ps"
echo "  - Celery ë¡œê·¸: tail -f celery.log"
echo "  - í™˜ê²½ ê²€ì¦: ./check_dev_environment.sh"
echo ""
```

**ì‚¬ìš© ë°©ë²•**:

```bash
# ìŠ¤í¬ë¦½íŠ¸ ì €ì¥ ë° ì‹¤í–‰
chmod +x setup_dev_environment.sh
./setup_dev_environment.sh
```

### 9.4 ë¬¸ì œ í•´ê²° ê°€ì´ë“œ (ë°œê²¬ëœ ë¬¸ì œë³„)

#### ğŸ”´ í™˜ê²½ ë³€ìˆ˜ íŒŒì¼ ëˆ„ë½

**ì¦ìƒ**: Docker Compose ì‹¤í–‰ ì‹œ í™˜ê²½ ë³€ìˆ˜ ì˜¤ë¥˜

**í•´ê²°**:
```bash
# ìœ„ì˜ setup_dev_environment.sh ì‹¤í–‰ ë˜ëŠ”
# ìˆ˜ë™ìœ¼ë¡œ .env.development íŒŒì¼ ìƒì„± (4.2.1ì ˆ ì°¸ì¡°)
```

#### ğŸ”´ Celery ì›Œì»¤ ë¯¸ì‹¤í–‰

**ì¦ìƒ**: ë¬¸ì„œ ì—…ë¡œë“œ í›„ ì²˜ë¦¬ê°€ ì§„í–‰ë˜ì§€ ì•ŠìŒ

**í•´ê²°**:
```bash
cd backend
source .venv/bin/activate
celery -A app.core.celery_app worker --loglevel=info --concurrency=2
```

#### ğŸŸ¡ Python ê°€ìƒí™˜ê²½ ë¯¸êµ¬ì„±

**ì¦ìƒ**: íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì¶©ëŒ ë˜ëŠ” ê¶Œí•œ ë¬¸ì œ

**í•´ê²°**:
```bash
cd backend
python3 -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
```

#### ğŸŸ¡ Backend/Frontend ì»¨í…Œì´ë„ˆ ë¯¸ì‹¤í–‰

**ì¦ìƒ**: API ì„œë²„ ë˜ëŠ” ì›¹ í˜ì´ì§€ ì ‘ê·¼ ë¶ˆê°€

**í•´ê²°**:
```bash
docker compose --env-file .env.development up -d backend frontend
```

#### ğŸ”´ í”„ë¡ íŠ¸ì—”ë“œ ì˜ì¡´ì„± ì˜¤ë¥˜ (Module not found)

**ì¦ìƒ**: 
- `npm start` ì‹¤í–‰ ì‹œ Tailwind CSS, recharts, @heroicons/react ë“± íŒ¨í‚¤ì§€ ì˜¤ë¥˜
- `Module not found: Can't resolve '@tailwindcss/forms'`
- `Module not found: Can't resolve 'react-markdown'`

**ì›ì¸**: `package.json`ì— ì¼ë¶€ íŒ¨í‚¤ì§€ê°€ ëˆ„ë½ë˜ì–´ ìˆê±°ë‚˜ ì„¤ì¹˜ë˜ì§€ ì•ŠìŒ

**í•´ê²°**:
```bash
cd ~/abekm/frontend

# ì „ì²´ ì˜ì¡´ì„± ì¬ì„¤ì¹˜
npm install

# íŠ¹ì • íŒ¨í‚¤ì§€ë§Œ ì„¤ì¹˜ (í•„ìš”ì‹œ)
npm install @tailwindcss/forms @tailwindcss/typography
npm install recharts react-force-graph-2d
npm install @heroicons/react
npm install react-markdown remark-gfm remark-breaks
npm install react-textarea-autosize
```

**ê²€ì¦**:
```bash
# package.jsonì— ëª¨ë“  íŒ¨í‚¤ì§€ê°€ ìˆëŠ”ì§€ í™•ì¸
cat package.json | grep -E "@tailwindcss|recharts|@heroicons|react-markdown"

# ì„¤ì¹˜ëœ íŒ¨í‚¤ì§€ í™•ì¸
npm list --depth=0 | grep -E "@tailwindcss|recharts|@heroicons|react-markdown"
```

#### ğŸ”´ í”„ë¡ íŠ¸ì—”ë“œ TypeScript ì»´íŒŒì¼ ì˜¤ë¥˜

**ì¦ìƒ**:
- `Parameter 'node' implicitly has an 'any' type`
- `Parameter 'color' implicitly has an 'any' type`
- `Property 'transformLinkUri' does not exist on type`

**ì›ì¸**: TypeScript strict modeì—ì„œ íƒ€ì… ëª…ì‹œê°€ í•„ìš”í•˜ê±°ë‚˜ ì˜ëª»ëœ props ì‚¬ìš©

**í•´ê²°**: 
ì´ëŸ¬í•œ ì˜¤ë¥˜ëŠ” ì†ŒìŠ¤ ì½”ë“œì—ì„œ ì´ë¯¸ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤. ìµœì‹  ì½”ë“œë¥¼ pull ë°›ìœ¼ì„¸ìš”:

```bash
cd ~/abekm
git pull origin main
```

ìˆ˜ì •ëœ íŒŒì¼:
- `frontend/src/components/charts/PatentNetworkGraph.tsx` - ëª…ì‹œì  íƒ€ì… ì¶”ê°€
- `frontend/src/pages/user/chat/components/MessageBubble.tsx` - ReactMarkdown props ìˆ˜ì •
- `frontend/src/pages/user/chat/components/MessageComposer.tsx` - íƒ€ì… ì˜¤ë¥˜ ìˆ˜ì •
- `frontend/src/pages/user/chat/components/presentation/PresentationOutlineModal.tsx` - ë¯¸ì‚¬ìš© í•¨ìˆ˜ ì •ë¦¬

ìºì‹œ í´ë¦¬ì–´ í›„ ì¬ì‹œì‘:
```bash
cd ~/abekm/frontend
rm -rf node_modules/.cache
npm start
```

#### ğŸŸ¡ í”„ë¡ íŠ¸ì—”ë“œ í¬íŠ¸ ì¶©ëŒ (Port 3000 already in use)

**ì¦ìƒ**: 
```
Something is already running on port 3000.
Would you like to run the app on another port instead?
```

**ì›ì¸**: ì´ì „ì— ì‹¤í–‰í•œ í”„ë¡œì„¸ìŠ¤ê°€ ì¢…ë£Œë˜ì§€ ì•ŠìŒ

**í•´ê²°**:
```bash
# ë°©ë²• 1: í¬íŠ¸ 3000 ì‚¬ìš© í”„ë¡œì„¸ìŠ¤ ëª¨ë‘ ì¢…ë£Œ
lsof -ti:3000 | xargs kill -9

# ë°©ë²• 2: íŠ¹ì • í”„ë¡œì„¸ìŠ¤ë§Œ ì¢…ë£Œ
lsof -i:3000
# PID í™•ì¸ í›„
kill -9 <PID>

# ë°©ë²• 3: ë‹¤ë¥¸ í¬íŠ¸ë¡œ ì‹¤í–‰
PORT=3001 npm start
```

#### ğŸŸ¢ í”„ë¡ íŠ¸ì—”ë“œ í™˜ê²½ ë³€ìˆ˜ ë¯¸ì ìš©

**ì¦ìƒ**: API í˜¸ì¶œì´ ì‹¤íŒ¨í•˜ê±°ë‚˜ ì˜ëª»ëœ ì—”ë“œí¬ì¸íŠ¸ë¡œ ìš”ì²­

**ì›ì¸**: `.env` íŒŒì¼ì´ ì—†ê±°ë‚˜ ë¹Œë“œ ì‹œ ë²ˆë“¤ì— í¬í•¨ë˜ì§€ ì•ŠìŒ

**í•´ê²°**:
```bash
cd ~/abekm/frontend

# .env íŒŒì¼ ì¡´ì¬ í™•ì¸
ls -la .env

# ì—†ìœ¼ë©´ .env.exampleì—ì„œ ë³µì‚¬
cp .env.example .env

# .env ë‚´ìš© í™•ì¸ ë° ìˆ˜ì •
cat .env
# REACT_APP_API_URL=http://localhost:8000
# REACT_APP_ENV=development
# REACT_APP_WS_URL=ws://localhost:8000/ws

# í™˜ê²½ ë³€ìˆ˜ ë³€ê²½ í›„ ë°˜ë“œì‹œ ì¬ì‹œì‘
npm start
```

âš ï¸ **ì¤‘ìš”**: React í™˜ê²½ ë³€ìˆ˜ëŠ” `REACT_APP_` ì ‘ë‘ì‚¬ê°€ í•„ìˆ˜ì´ë©°, ë¹Œë“œ ì‹œ ë²ˆë“¤ì— í¬í•¨ë˜ë¯€ë¡œ ë³€ê²½ í›„ ì¬ì‹œì‘ì´ í•„ìš”í•©ë‹ˆë‹¤.

---

## 10. ì¶”ê°€ ì°¸ê³  ë¬¸ì„œ

### 10.1 ìƒì„¸ ì„¤ì¹˜ ê°€ì´ë“œ

- **Amazon Linux 2023 ìƒì„¸ ê°€ì´ë“œ**: [amazon-linux-2023-ê°œë°œí™˜ê²½ì„¤ì¹˜ê°€ì´ë“œ.md](./amazon-linux-2023-ê°œë°œí™˜ê²½ì„¤ì¹˜ê°€ì´ë“œ.md)
- **Azure to AWS ë§ˆì´ê·¸ë ˆì´ì…˜**: [ë³„ì²¨04_Azure_to_AWS_ë§ˆì´ê·¸ë ˆì´ì…˜_ë¶€ë¡.md](./ë³„ì²¨04_Azure_to_AWS_ë§ˆì´ê·¸ë ˆì´ì…˜_ë¶€ë¡.md)

### 10.2 ë°ì´í„°ë² ì´ìŠ¤ ë° ì´ˆê¸°í™”

- **ì´ˆê¸° ë°ì´í„° ì„¤ì • ê°€ì´ë“œ**: [ë³„ì²¨02_ABEKM_ì´ˆê¸°ë°ì´í„°_ì„¤ì •ê°€ì´ë“œ_v2.md](./ë³„ì²¨02_ABEKM_ì´ˆê¸°ë°ì´í„°_ì„¤ì •ê°€ì´ë“œ_v2.md)
- **PostgreSQL í•œêµ­ì–´ ê²€ìƒ‰**: [09.postgresql_korean_search_extension.md](./09.postgresql_korean_search_extension.md)

### 10.3 ë°°í¬ ë° ìš´ì˜

- **ì»¨í…Œì´ë„ˆ ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸**: [ë³„ì²¨07_ì»¨í…Œì´ë„ˆ_ë°°í¬_ì²´í¬ë¦¬ìŠ¤íŠ¸.md](./ë³„ì²¨07_ì»¨í…Œì´ë„ˆ_ë°°í¬_ì²´í¬ë¦¬ìŠ¤íŠ¸.md)
- **Docker ë°°í¬ ìš”ì•½**: [../DOCKER_DEPLOYMENT_SUMMARY.md](../DOCKER_DEPLOYMENT_SUMMARY.md) ğŸ†•
- **Docker ë„¤íŠ¸ì›Œí¬ í…ŒìŠ¤íŠ¸**: [../DOCKER_NETWORK_TEST_GUIDE.md](../DOCKER_NETWORK_TEST_GUIDE.md) ğŸ†•
- **ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™”**: [../DATABASE_INITIALIZATION_GUIDE.md](../DATABASE_INITIALIZATION_GUIDE.md) ğŸ†•
- **í™˜ê²½ ì„¤ì • ê°€ì´ë“œ**: [../ENVIRONMENT.md](../ENVIRONMENT.md)
- **ë°°í¬ ê°€ì´ë“œ**: [../deployment/README.md](../deployment/README.md)

### 10.4 ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

- **ì‹œìŠ¤í…œ ê°œìš” ì„¤ê³„**: [01.system_overview_design.md](./01.system_overview_design.md)
- **ë¬¸ì„œ ì²˜ë¦¬ ë° ë²¡í„° ì €ì¥**: [02.document_ingestion_vectorstore.md](./02.document_ingestion_vectorstore.md)
- **ê²€ìƒ‰ ë° Q&A ì„œë¹„ìŠ¤**: [03.search_and_qa_service.md](./03.search_and_qa_service.md)
- **AI ì—ì´ì „íŠ¸ ì•„í‚¤í…ì²˜**: [10.agentic_architecture.md](./10.agentic_architecture.md)

### 10.5 ê°œë°œ ê°€ì´ë“œ

- **Backend API êµ¬ì¡°**: `../backend/API_STRUCTURE_GUIDE.md` (ìˆëŠ” ê²½ìš°)
- **Frontend-Backend ì—°ê²°**: `../FRONTEND_BACKEND_CONNECTION_GUIDE.md` (ìˆëŠ” ê²½ìš°)
- **PPT ì²˜ë¦¬ ê°€ì´ë“œ**: [13.agent_design_for_presentation.md](./13.agent_design_for_presentation.md)

### 10.6 ê¶Œí•œ ë° ë³´ì•ˆ

- **ê¶Œí•œ ê´€ë¦¬ ì²´ê³„**: [ë³„ì²¨01_ABEKM_ê¶Œí•œê´€ë¦¬_ì²´ê³„_v2.md](./ë³„ì²¨01_ABEKM_ê¶Œí•œê´€ë¦¬_ì²´ê³„_v2.md)
- **ê¶Œí•œ ê´€ë¦¬ ì‹œë‚˜ë¦¬ì˜¤**: [07.permission_management_scenarios.md](./07.permission_management_scenarios.md)

### 10.7 í”„ë¡œì íŠ¸ ë¬¸ì„œ

- **í”„ë¡œì íŠ¸ README**: [../README.md](../README.md)
- **í™”ë©´ ì ìš© ê°€ì´ë“œ**: [ë³„ì²¨03_ì§€ì‹ê´€ë¦¬ì‹œìŠ¤í…œ_í™”ë©´ì ìš©ê°€ì´ë“œ.md](./ë³„ì²¨03_ì§€ì‹ê´€ë¦¬ì‹œìŠ¤í…œ_í™”ë©´ì ìš©ê°€ì´ë“œ.md)

---

## ğŸ“ ë¬¸ì˜ ë° ì§€ì›

ë¬¸ì œê°€ í•´ê²°ë˜ì§€ ì•Šê±°ë‚˜ ì¶”ê°€ ì§€ì›ì´ í•„ìš”í•œ ê²½ìš°:

- **GitHub Issues**: https://github.com/arkwith7/abekm/issues
- **í”„ë¡œì íŠ¸ Wiki**: (ìˆëŠ” ê²½ìš° ë§í¬ ì¶”ê°€)
- **íŒ€ ë¬¸ì˜**: ì‹œìŠ¤í…œ ê´€ë¦¬íŒ€ ë˜ëŠ” ITìš´ì˜íŒ€

---

## ğŸ“ ë³€ê²½ ì´ë ¥

| ë²„ì „  | ë‚ ì§œ         | ë³€ê²½ ë‚´ìš©                                           | ì‘ì„±ì            |
| --- | ---------- | ----------------------------------------------- | -------------- |
| 1.0 | 2025-12-08 | ì´ˆê¸° í†µí•© ê°œë°œí™˜ê²½ ì„¤ì¹˜ ê°€ì´ë“œ ì‘ì„±                            | GitHub Copilot |
| 1.1 | 2025-12-15 | Docker ë°°í¬ í™˜ê²½ ê°œì„ , ë°ì´í„°ë² ì´ìŠ¤ ìë™ ì´ˆê¸°í™”, í™˜ê²½ ë³€ìˆ˜ êµ¬ì¡° ê°œì„  ì¶”ê°€ | GitHub Copilot |

---

## 11. Docker ë°°í¬ í™˜ê²½ ê°œì„  ì‚¬í•­ (2025-12-15)

### 11.1 ì£¼ìš” ê°œì„  ë‚´ì—­

#### âœ… Git ê´€ë¦¬ ê°œì„ 

**.gitignore ìˆ˜ì •**:
- `quick_*.py` íŒ¨í„´ ì œê±° (ì¤‘ìš” íŒŒì¼ ëˆ„ë½ ë°©ì§€)
- `!postgres/init.sql` ì˜ˆì™¸ ì¶”ê°€ (DB ì´ˆê¸°í™” ìŠ¤í¬ë¦½íŠ¸ í¬í•¨)

```bash
# ë³€ê²½ëœ íŒŒì¼
- .gitignore
+ quick_pptx_builder_tool.py (ì¶”ê°€ë¨)
+ postgres/init.sql (ì¶”ê°€ë¨)
```

#### âœ… í•˜ë“œì½”ë”© ê²½ë¡œ ì œê±° (7ê°œ íŒŒì¼)

ëª¨ë“  ì ˆëŒ€ ê²½ë¡œë¥¼ `Path(__file__).parent` ê¸°ë°˜ ë™ì  ê²½ë¡œë¡œ ë³€ê²½:

1. `backend/app/core/config.py`
   - `log_dir`: `/home/admin/Dev/abekm/logs` â†’ `PROJECT_ROOT / "logs"`
   - `presentation_output_dir`: ë™ì  ê²½ë¡œë¡œ ë³€ê²½

2. `backend/app/services/document/processing/document_preprocessing_service.py`
   - `chunking_log_dir`: ë™ì  ê²½ë¡œ ê³„ì‚°

3. `backend/app/services/presentation/dynamic_template_manager.py`
   - `template_storage_path`: ë™ì  ê²½ë¡œë¡œ ë³€ê²½

4. `backend/app/services/presentation/thumbnail_generator.py`
   - `thumbnail_cache_dir`: ë™ì  ê²½ë¡œë¡œ ë³€ê²½

5. `backend/app/api/v1/documents.py`
   - `UPLOAD_DIR`: ë™ì  ê²½ë¡œë¡œ ë³€ê²½

6. `backend/test_dynamic_slide_pipeline.py`
   - `template_path`: ë™ì  ê²½ë¡œë¡œ ë³€ê²½

7. `backend/scripts/analyze_ppt_compliance.py`
   - ëª¨ë“  íŒŒì¼ ê²½ë¡œë¥¼ ë™ì ìœ¼ë¡œ ê³„ì‚°

**íš¨ê³¼**: í”„ë¡œì íŠ¸ë¥¼ ë‹¤ë¥¸ ê²½ë¡œì— ë³µì‚¬í•´ë„ ì •ìƒ ì‘ë™

#### âœ… í™˜ê²½ ë³€ìˆ˜ íŒŒì¼ êµ¬ì¡° ê°œì„ 

**ì´ì „ êµ¬ì¡°** (ë³µì¡í•¨):
```
abekm/
â”œâ”€â”€ .env (ì‹¬ë³¼ë¦­ ë§í¬ â†’ backend/.env)
â”œâ”€â”€ backend/.env
â””â”€â”€ frontend/.env
```

**ê°œì„ ëœ êµ¬ì¡°** (ë‹¨ìˆœí•¨):
```
abekm/
â”œâ”€â”€ backend/.env
â”œâ”€â”€ frontend/.env
â””â”€â”€ docker-compose.yml (env_file ì„¤ì • ì¶”ê°€)
```

**docker-compose.yml ë³€ê²½**:
```yaml
services:
  postgres:
    env_file:
      - backend/.env  # ì¶”ê°€ë¨
  
  backend:
    env_file:
      - backend/.env  # ì¶”ê°€ë¨
  
  frontend:
    env_file:
      - frontend/.env  # ì¶”ê°€ë¨
```

#### âœ… ë°ì´í„°ë² ì´ìŠ¤ ìë™ ì´ˆê¸°í™”

**ìƒˆ íŒŒì¼**: `backend/start_with_init.sh` (122ì¤„)

**ìë™ í”„ë¡œì„¸ìŠ¤**:
1. PostgreSQL ì—°ê²° ëŒ€ê¸° (asyncpg ì‚¬ìš©, ìµœëŒ€ 30íšŒ ì¬ì‹œë„)
2. Alembic ë§ˆì´ê·¸ë ˆì´ì…˜ ìë™ ì‹¤í–‰
3. í•„ìˆ˜ í…Œì´ë¸” ì²´í¬ (4ê°œ)
4. ì¡°ê±´ë¶€ ë°ì´í„° ì‹œë”©
5. FastAPI ì„œë²„ ì‹œì‘

**í™˜ê²½ ë³€ìˆ˜**:
- `FORCE_DB_SEED=true`: ê°•ì œ ì‹œë”©
- `FORCE_DB_SEED=false` (ê¸°ë³¸ê°’): ìë™ ê°ì§€

**Dockerfile ìˆ˜ì •**:
```dockerfile
# ì¶”ê°€ë¨
COPY start_with_init.sh .
RUN chmod +x start_with_init.sh

CMD ["./start_with_init.sh"]
```

### 11.2 ìƒˆë¡œ ìƒì„±ëœ ë¬¸ì„œ

1. **test-docker-deployment.sh** (5.5K)
   - Docker í™˜ê²½ ìë™ í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸
   - ë„¤íŠ¸ì›Œí¬ êµ¬ì„±, ì»¨í…Œì´ë„ˆ ìƒíƒœ, API ì—”ë“œí¬ì¸íŠ¸ ê²€ì¦

2. **DOCKER_NETWORK_TEST_GUIDE.md** (7.5K)
   - Nginx ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ êµ¬ì¡° ìƒì„¸ ì„¤ëª…
   - ë„¤íŠ¸ì›Œí¬ í…ŒìŠ¤íŠ¸ ë°©ë²•
   - íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ

3. **DOCKER_DEPLOYMENT_SUMMARY.md** (6.0K)
   - ì „ì²´ ë°°í¬ í”„ë¡œì„¸ìŠ¤ ìš”ì•½
   - í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
   - ë°°í¬ ì‹œë‚˜ë¦¬ì˜¤ë³„ ê°€ì´ë“œ

4. **DATABASE_INITIALIZATION_GUIDE.md** (í˜„ì¬ ë¬¸ì„œ)
   - ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™” í”„ë¡œì„¸ìŠ¤ ìƒì„¸ ì„¤ëª…
   - Alembic ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ
   - ë°±ì—…/ë³µì› ë°©ë²•

5. **docker-deploy-checklist.md** (4.0K)
   - ë°°í¬ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸
   - ë‹¨ê³„ë³„ ê²€ì¦ í•­ëª©

### 11.3 ë°°í¬ ê²€ì¦

#### ë¹ ë¥¸ ì‹œì‘

```bash
# 1. Docker ì»¨í…Œì´ë„ˆ ì‹œì‘
cd ~/abekm
docker-compose up -d

# 2. ìë™ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
./test-docker-deployment.sh

# 3. ë¸Œë¼ìš°ì € ì ‘ì†
http://localhost/
```

#### ìˆ˜ë™ ê²€ì¦

```bash
# ì»¨í…Œì´ë„ˆ ìƒíƒœ í™•ì¸
docker-compose ps

# ë°±ì—”ë“œ ì´ˆê¸°í™” ë¡œê·¸ í™•ì¸
docker-compose logs -f backend | grep -E "PostgreSQL|Alembic|seeding|FastAPI"

# ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” í™•ì¸
docker exec -it abkms-postgres psql -U wkms -d wkms -c "\dt"

# API ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸
curl http://localhost/api/health
```

### 11.4 íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

#### PostgreSQL ì—°ê²° ì‹¤íŒ¨

```bash
# í—¬ìŠ¤ì²´í¬ í™•ì¸
docker inspect abkms-postgres | grep -A 10 Health

# ìˆ˜ë™ ì—°ê²° í…ŒìŠ¤íŠ¸
docker exec -it abkms-postgres pg_isready -U wkms
```

#### ë°ì´í„° ì‹œë”© ì‹¤íŒ¨

```bash
# ê°•ì œ ì‹œë”©
export FORCE_DB_SEED=true
docker-compose up -d backend

# ìˆ˜ë™ ì‹œë”©
docker exec -it abkms-backend python3 init_simple_database.py
```

#### Alembic ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤íŒ¨

```bash
# í˜„ì¬ ë²„ì „ í™•ì¸
docker exec -it abkms-backend alembic current

# ìˆ˜ë™ ë§ˆì´ê·¸ë ˆì´ì…˜
docker exec -it abkms-backend alembic upgrade head
```

### 11.5 ì°¸ê³  ë¬¸ì„œ

- [DOCKER_DEPLOYMENT_SUMMARY.md](../DOCKER_DEPLOYMENT_SUMMARY.md) - ì „ì²´ ë°°í¬ ìš”ì•½
- [DOCKER_NETWORK_TEST_GUIDE.md](../DOCKER_NETWORK_TEST_GUIDE.md) - ë„¤íŠ¸ì›Œí¬ í…ŒìŠ¤íŠ¸
- [DATABASE_INITIALIZATION_GUIDE.md](../DATABASE_INITIALIZATION_GUIDE.md) - DB ì´ˆê¸°í™” ê°€ì´ë“œ
- [docker-deploy-checklist.md](../docker-deploy-checklist.md) - ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸

---

**ğŸ‰ ì„¤ì¹˜ ì™„ë£Œ!**

ëª¨ë“  ë‹¨ê³„ë¥¼ ì™„ë£Œí–ˆë‹¤ë©´ ABEKM ê°œë°œ í™˜ê²½ì´ ì¤€ë¹„ë˜ì—ˆìŠµë‹ˆë‹¤. 
http://localhost:3000 ìœ¼ë¡œ ì ‘ì†í•˜ì—¬ ì‹œìŠ¤í…œì„ í™•ì¸í•˜ì„¸ìš”!
