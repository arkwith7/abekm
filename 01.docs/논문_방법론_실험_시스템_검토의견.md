# Agentic AI 특허 조사 연구 - 방법론 및 실험 시스템 재구조화 (KIPRIS 중심)

> **작성일**: 2026년 1월 6일  
> **개요**: 본 문서는 KIPRIS 심사관 인용 데이터를 단일 실험 데이터셋으로 확정함에 따라, 시스템 아키텍처와 실험 방법론을 재구성한 전략 문서입니다. 외부 데이터셋(PANORAMA 등)에 대한 논의를 배제하고, 실제 구현 가능한 **KIPRIS 선행기술조사 방법론**에 집중합니다.

---

## 1. 핵심 전략 및 목표

### 1.1 연구 목표
- **목표**: Agentic AI(Multi-Agent System)를 활용한 특허 선행기술조사 자동화의 성능 및 효율성 검증.
- **핵심 가설**: LLM 기반의 의미적 이해(Semantic Understanding)와 논리적 추론(Reasoning)이 기존 키워드 검색 대비 높은 재현율(Recall)과 정확도(Precision)를 달성할 것이다.

### 1.2 데이터셋 단일화 전략 (Single Source: KIPRIS)
다른 벤치마크 데이터셋을 배제하고 **KIPRIS 심사관 인용 데이터**만을 사용하는 이유는 다음과 같습니다.
1.  **신뢰성(Ground Truth)**: 특허청 심사관이 법적 절차에 따라 인용한 선행기술은 가장 강력한 정답(Label)입니다.
2.  **도메인 적합성**: 본 연구의 시스템(ABEKM)은 한국 특허 환경과 국문 처리에 최적화되어 있습니다.
3.  **실용성**: 논문 실험 결과가 즉시 시스템 상용화 성능으로 직결됩니다.

---

## 2. 데이터셋 관리 및 시스템 아키텍처

논문 실험의 **재현성(Reproducibility)**과 상용 시스템의 **일관성(Consistency)**을 동시에 확보하기 위해 하이브리드 관리 구조를 채택합니다.

### 2.1 하이브리드 관리 구조 (Isolation + Integration)

| 구분 | 구조 | 구현 방식 | 목적 |
|------|------|----------|------|
| **물리적 격리** | **지식 컨테이너** | `KIPRIS_EVAL_2024` (Type: DATASET) | 운영 데이터와 실험 데이터의 혼입 방지. 실험 통제 변수 관리. |
| **논리적 통합** | **IP 포트폴리오** | `tb_patent_metadata` (IPC 분류 포함) | 실험 데이터도 기존 시스템 기능(IPC 트리, 벡터 검색, RAG)을 100% 활용. |

### 2.2 기대 효과
- **실험 중**: 연구팀은 `KIPRIS_EVAL_2024` 컨테이너 내에서 안전하게 파라미터 튜닝 및 반복 실험 수행.
- **실험 후**: 검증된 데이터셋은 '모범 사례(Best Practice)'로서 상용 시스템의 데모 또는 회귀 테스트(Regression Test)용 데이터로 전환.

---

## 3. 선행기술조사 실험 방법론: "Loop for Accuracy"

단순한 1회성 실험이 아닌, **지속적인 성능 개선을 위한 순환 프로세스(Triple Loop Learning)**를 제안합니다.

### 3.1 실험 프로세스 (Steps 0~6)

사용자가 제안한 실행 계획을 구체화하여, 정답(Ground Truth)에 빠르게 수렴하기 위한 7단계 프로세스입니다.

#### **Step 0: 평가 골격 수립 (Evaluation Harness)**
- **목표**: 실험 실행(Run)과 결과(Result)를 분리하여 데이터 기반 의사결정 체계 구축.
- **정의 항목**:
    - **Case Definition**: Target 특허(출원번호, 청구항) + Ground Truth(인용문헌 ID 리스트).
    - **Metric Definition**: 
        - **Recall@K** (재현율): 정답 문헌이 Top-K 안에 포함되었는가? (K=10, 50, 100)
        - **MRR** (Mean Reciprocal Rank): 정답이 몇 번째 순위에 등장하는가?
    - **Matching Rule**: 특허 번호 정규화(Standardization) 및 패밀리 매칭 허용 범위 확립.

#### **Step 1: 데이터셋 적재 (Data Ingestion)**
- **액션**: KIPRIS API 및 Bulk 데이터를 `KIPRIS_EVAL_2024` 컨테이너에 적재.
- **대상**: 최근 2년 내(2023-2024) **반도체(H01L) 및 AI(G06N)** 분야 **거절결정** 특허. (약 300~500건 권장)
- **필수 데이터 품질**: 
    - 초록(Abstract), 청구항(Claims) 필수 포함 (현재 21건 데이터의 누락 문제 해결 필수).
    - 심사관 인용 문헌(Ground Truth) 파싱 및 매핑 완료.

#### **Step 2: 실험 환경 튜닝 (Environment Tuning)**
- **목표**: 반복 실험의 비용 최소화 및 속도 향상.
- **구현**:
    - **Caching**: API 응답 및 벡터 검색 결과 캐싱 (Redis/File).
    - **Determinism**: LLM Temperature=0, Random Seed 고정으로 결과 재현성 보장.
    - **Logging**: Run ID 기반의 전 구간(End-to-End) 추적 로그.

#### **Step 3: 방법론 개발 및 실행 (Methodology Execution)**
- **핵심 전략: 2-Stage Hybrid Search**
    1.  **Stage 1: Candidate Generation (Recall 중심)**
        - 광범위한 후보군 수집 (Top-100 ~ 200).
        - 방법: KIPRIS 키워드/IPC 검색 + 내부 RAG(Dense Retrieval) + (옵션) Google Patents.
        - Agent: **Searcher Agent** (다양한 쿼리 전략 구사).
    2.  **Stage 2: Reranking (Precision 중심)**
        - 후보군 정밀 분석 및 순위 재조정.
        - 방법: "All Elements Rule" 기반 청구항 vs 선행문헌 비교.
        - Agent: **Analyst Agent** (법적/논리적 판단).

#### **Step 4: 자동 평가 (Evaluation)**
- 시스템이 각 Run에 대해 Recall@K, Precision@K, F1-Score 자동 산출.
- Baseline(기존 키워드 검색 등)과 성능 격차 시각화.

#### **Step 5: 실패 분석 및 개선 (Failure Analysis)**
- 단순 점수 확인을 넘어 **실패 원인(Root Cause)**을 분석하여 방법론 수정.
    - **Type A (Recall Fail)**: 정답이 후보군(Stage 1)에 아예 없음 -> **검색 쿼리 확장 전략 수정**.
    - **Type B (Rerank Fail)**: 후보군엔 있으나 상위(Top-10)로 못 올라옴 -> **비교 프롬프트/임베딩 모델 튜닝**.

#### **Step 6: 산출물화 (Documentation & Commercialization)**
- **논문**: 실험 결과 Table, 성능 그래프, 실패 분석 사례 연구.
- **상용화**: 튜닝된 최적 파라미터(Config), 검증된 에이전트 프롬프트.

---

## 4. 현재 준비 상태 및 갭(Gap) 분석

### 4.1 준비된 항목 (Ready) ✅
1.  **시스템 아키텍처**: LangGraph 기반 멀티 에이전트 오케스트레이션 구현 완료.
2.  **데이터 파이프라인**: KIPRIS 데이터 수집기(Collector) 및 PDF 섹션 청킹(Patent Pipeline) 구현 완료.
3.  **데이터베이스**: 메타데이터 테이블(`tb_patent_...`) 및 벡터 저장소 스키마 설계 완료.

### 4.2 보완이 필요한 항목 (Gap) 🚧
1.  **데이터 품질 (Critical)**: 
    - 현재 샘플(21건)의 초록/청구항/IPC 누락 심각. 
    - **Step 1**을 통해 양질의 데이터 300~500건을 다시 적재해야 함.
2.  **평가 모듈 (Evaluation Module)**:
    - Step 0의 정의에 따라 자동으로 점수를 계산해주는 스크립트(`evaluate.py`) 부재.
3.  **청구항 차트 생성 (Claim Chart)**:
    - Stage 2 Reranking의 핵심인 청구항 분석 로직 구현 필요.

---

## 5. 실행 계획 (Action Plan)

### Phase 1: 기반 데이터 및 환경 구축 (Week 1 초반)
- **Task 1.1**: `KIPRIS_EVAL_2024` 컨테이너 생성 SQL 실행.
- **Task 1.2**: KIPRIS API를 활용해 **반도체/AI 거절결정 특허 100건 이상** 완전한 형태(초록/청구항 포함)로 적재. (기존 21건 폐기 또는 보완)
- **Task 1.3**: Ground Truth(인용문헌) 파싱 및 DB 매핑.

### Phase 2: 평가 프레임워크 구현 (Week 1 후반)
- **Task 2.1**: Step 0의 **평가 스크립트** 개발. (Input: Run ID -> Output: Recall/MRR Report)
- **Task 2.2**: Baseline(단순 키워드 검색) 성능 측정하여 기준점(Reference) 확보.

### Phase 3: 방법론 고도화 및 실험 (Week 2 ~ 3)
- **Task 3.1**: Multi-Agent(Candidate Gen -> Rerank) 로직 구현 및 연결.
- **Task 3.2**: Step 3~5 루프 반복 (실험 -> 평가 -> 튜닝).
- **Task 3.3**: 최종 성능 지표 달성 (목표: Recall@100 ≥ 80%) 확인 및 논문 작성.

---

## 6. 결론
본 계획은 외부 데이터셋 의존성을 제거하고, **우리가 제어 가능한 KIPRIS 데이터**와 **우리가 구축한 시스템**만으로 논문의 완결성을 확보하는 전략입니다. "Step 0~6" 프로세스는 단순한 실험을 넘어, 향후 상용 서비스의 품질 관리 체계(QA System)로 발전할 것입니다.

**[우선 요청사항]**: 바로 **Step 1 (데이터 적재)**을 시작하여, 실험 가능한 고품질 데이터를 `KIPRIS_EVAL_2024` 컨테이너에 확보해 주십시오.
