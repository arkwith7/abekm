# 07. IPBridge ê¶Œí•œ ê´€ë¦¬ ì‹œë‚˜ë¦¬ì˜¤ ìƒì„¸ ì„¤ëª…ì„œ

## 1. ê°œìš”

ë³¸ ë¬¸ì„œëŠ” IPBridge ì‹œìŠ¤í…œì—ì„œ ì§€ì‹ë§µ êµ¬ì¡°ì— ë”°ë¥¸ ê¶Œí•œ ê´€ë¦¬ ì²´ê³„ì™€ ê° ì—­í• ë³„ ê¶Œí•œ ê´€ë¦¬ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ìƒì„¸íˆ ì„¤ëª…í•©ë‹ˆë‹¤.

## 2. ì§€ì‹ë§µ ê³„ì¸µ êµ¬ì¡°ì™€ ê¶Œí•œ ìƒì†

### 2.1 ì§€ì‹ë§µ ê³„ì¸µ êµ¬ì¡°

```
ğŸ¢ ê¸°ì—… (ROOT)                    [COMPANY ë ˆë²¨]
â”œâ”€â”€ ğŸ“ ê²½ì˜ì§€ì›ë³¸ë¶€                    [DIVISION ë ˆë²¨]
â”‚   â”œâ”€â”€ ğŸ“ ì¸ì‚¬íŒ€                     [DEPARTMENT ë ˆë²¨]
â”‚   â”‚   â”œâ”€â”€ ğŸ“ ì±„ìš©íŒ€                 [TEAM ë ˆë²¨]
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ì±„ìš©ê°€ì´ë“œ.pdf     [DOCUMENT ë ˆë²¨]
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ë©´ì ‘í‰ê°€í‘œ.docx    [DOCUMENT ë ˆë²¨]
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ ì‹ ì…ì‚¬ì›êµìœ¡.pptx  [DOCUMENT ë ˆë²¨]
â”‚   â”‚   â””â”€â”€ ğŸ“ êµìœ¡íŒ€
â”‚   â””â”€â”€ ğŸ“ ì¬ë¬´íŒ€
â”œâ”€â”€ ğŸ“ ì‚¬ì—…ë³¸ë¶€
â”‚   â”œâ”€â”€ ğŸ“ ë§ˆì¼€íŒ…íŒ€
â”‚   â””â”€â”€ ğŸ“ ì˜ì—…íŒ€
â””â”€â”€ ğŸ“ ê¸°ìˆ ë³¸ë¶€
    â”œâ”€â”€ ğŸ“ ê°œë°œíŒ€
    â””â”€â”€ ğŸ“ ì¸í”„ë¼íŒ€
```

### 2.2 ê¶Œí•œ ìƒì† ë©”ì»¤ë‹ˆì¦˜

- **ìƒí–¥ ìƒì†**: í•˜ìœ„ ì»¨í…Œì´ë„ˆ ê¶Œí•œì´ ìƒìœ„ ì»¨í…Œì´ë„ˆë¡œ ìë™ ìƒì†ë˜ì§€ ì•ŠìŒ
- **í•˜í–¥ ìƒì†**: ìƒìœ„ ì»¨í…Œì´ë„ˆ ê¶Œí•œì´ í•˜ìœ„ ì»¨í…Œì´ë„ˆë¡œ ì„ íƒì  ìƒì† ê°€ëŠ¥
- **ì§ì ‘ ê¶Œí•œ**: íŠ¹ì • ì»¨í…Œì´ë„ˆ/ë¬¸ì„œì— ì§ì ‘ ë¶€ì—¬ëœ ê¶Œí•œì´ ìµœìš°ì„ 

## 3. ì§€ì‹ìƒì„±ì (Knowledge Creator) ê¶Œí•œ ê´€ë¦¬ ì‹œë‚˜ë¦¬ì˜¤

### 3.1 ì§€ì‹íŒŒì¼ ì—…ë¡œë“œ ì‹œ ì ‘ê·¼ ë²”ìœ„ ì„¤ì •

#### 3.1.1 ì—…ë¡œë“œ ê¶Œí•œ ì„ íƒ ì˜µì…˜

```typescript
// ë¬¸ì„œ ì—…ë¡œë“œ ì‹œ ê¶Œí•œ ì„¤ì • ì˜µì…˜
interface DocumentAccessLevel {
  // 1ë‹¨ê³„: ê¸°ë³¸ ì ‘ê·¼ ë²”ìœ„
  visibility: 'PRIVATE' | 'TEAM' | 'DEPARTMENT' | 'DIVISION' | 'COMPANY' | 'PUBLIC';
  
  // 2ë‹¨ê³„: ì„¸ë¶„í™”ëœ ê¶Œí•œ ì„¤ì •
  permissions: {
    read: AccessScope;
    download: AccessScope;
    comment: AccessScope;
    share: AccessScope;
  };
  
  // 3ë‹¨ê³„: íŠ¹ì • ì‚¬ìš©ì/ê·¸ë£¹ ê¶Œí•œ
  explicitPermissions?: {
    users: string[];
    groups: string[];
    roles: string[];
  };
}

enum AccessScope {
  OWNER_ONLY = 'owner',           // ë‚˜ë§Œ ë³´ê¸°
  SAME_TEAM = 'team',             // ê°™ì€ íŒ€ ë³´ê¸°
  SAME_DEPARTMENT = 'department', // ê°™ì€ ë¶€ì„œ ë³´ê¸°
  SAME_DIVISION = 'division',     // ê°™ì€ ë³¸ë¶€ ë³´ê¸°
  ALL_USERS = 'company',          // ì „ì‚¬ ë³´ê¸°
  PUBLIC = 'public'               // ì™¸ë¶€ ê³µìœ  ê°€ëŠ¥
}
```

#### 3.1.2 ì§€ì‹ìƒì„±ì íŒŒì¼ ì—…ë¡œë“œ í”„ë¡œì„¸ìŠ¤

**ğŸ“¤ ì‹œë‚˜ë¦¬ì˜¤ 1: ì±„ìš©íŒ€ ì§ì›ì´ "ì±„ìš©ê°€ì´ë“œ.pdf" ì—…ë¡œë“œ**

```sql
-- 1ë‹¨ê³„: íŒŒì¼ ê¸°ë³¸ ì •ë³´ ì €ì¥
INSERT INTO tb_file_bss_info (
    DRCY_SNO, FILE_LGC_NM, FILE_PSL_NM, FILE_EXTSN, PATH, CREATED_BY
) VALUES (
    100, 'ì±„ìš©ê°€ì´ë“œ', 'recruit_guide_20250128.pdf', 'pdf', 
    '/storage/hr/recruit/', 'emp001'
);

-- 2ë‹¨ê³„: íŒŒì¼ ìƒì„¸ ì •ë³´ ì €ì¥ (ë³´ì•ˆ ë“±ê¸‰ í¬í•¨)
INSERT INTO tb_file_dtl_info (
    SJ, AUTHR, CTGRY_CD, SECRTY_LVL, CREATED_BY
) VALUES (
    '2025ë…„ ì±„ìš© ê°€ì´ë“œë¼ì¸', 'ê¹€ì±„ìš©', 'HR_RECRUIT', 'TEAM', 'emp001'
);

-- 3ë‹¨ê³„: ì»¨í…Œì´ë„ˆë³„ ê¶Œí•œ ìë™ ì„¤ì •
-- ì§€ì‹ìƒì„±ìê°€ ì„ íƒí•œ ì ‘ê·¼ ë²”ìœ„ì— ë”°ë¼ ìë™ ê¶Œí•œ ë¶€ì—¬
```

**ğŸ¯ ì§€ì‹ìƒì„±ì ê¶Œí•œ ì„¤ì • ì˜µì…˜:**

| ì„¤ì • ì˜µì…˜     | ì ‘ê·¼ ë²”ìœ„      | ìë™ ê¶Œí•œ ë¶€ì—¬ ëŒ€ìƒ | ì˜ˆì‹œ ì‹œë‚˜ë¦¬ì˜¤      |
| --------- | ---------- | ----------- | ------------ |
| **ë‚˜ë§Œ ë³´ê¸°** | PRIVATE    | ë³¸ì¸ë§Œ         | ê°œì¸ ì‘ì—… ë¬¸ì„œ, ì´ˆì•ˆ |
| **íŒ€ ê³µìœ **  | TEAM       | ì±„ìš©íŒ€ ì „ì²´      | íŒ€ ë‚´ë¶€ ì—…ë¬´ ë§¤ë‰´ì–¼  |
| **ë¶€ì„œ ê³µìœ ** | DEPARTMENT | ì¸ì‚¬íŒ€ ì „ì²´      | ë¶€ì„œ ì •ì±… ë¬¸ì„œ     |
| **ë³¸ë¶€ ê³µìœ ** | DIVISION   | ê²½ì˜ì§€ì›ë³¸ë¶€ ì „ì²´   | ë³¸ë¶€ ì°¨ì› ê°€ì´ë“œë¼ì¸  |
| **ì „ì‚¬ ê³µìœ ** | COMPANY    | ì „ ì§ì›        | ì „ì‚¬ ê³µí†µ ì–‘ì‹, ê·œì • |

#### 3.1.3 ê¶Œí•œ ì„¤ì • ìë™í™” ë¡œì§

```python
class DocumentUploadPermissionManager:
    def auto_assign_permissions(self, file_info: FileInfo, access_level: AccessScope, user_id: str):
        """ì§€ì‹ìƒì„±ìê°€ ì„ íƒí•œ ì ‘ê·¼ ë²”ìœ„ì— ë”°ë¼ ìë™ ê¶Œí•œ ë¶€ì—¬"""
        
        # 1. ì‚¬ìš©ìì˜ ì†Œì† ì •ë³´ ì¡°íšŒ
        user_org = self.get_user_organization(user_id)
        
        # 2. ì ‘ê·¼ ë²”ìœ„ì— ë”°ë¥¸ ëŒ€ìƒ ì»¨í…Œì´ë„ˆ ê²°ì •
        target_containers = self.get_target_containers(user_org, access_level)
        
        # 3. ê° ì»¨í…Œì´ë„ˆë³„ ê¶Œí•œ ë¶€ì—¬
        for container_id in target_containers:
            # ê¸°ë³¸ ì½ê¸° ê¶Œí•œ ë¶€ì—¬
            self.grant_container_permission(
                container_id=container_id,
                user_id=user_id,
                permission_type='READ',
                file_id=file_info.id,
                granted_by=user_id,
                access_scope=access_level
            )
            
            # íŒŒì¼ ìƒì„±ìì—ê²ŒëŠ” ì „ì²´ ê¶Œí•œ ë¶€ì—¬
            if container_id == user_org.team_container_id:
                self.grant_full_permissions(file_info.id, user_id)
    
    def get_target_containers(self, user_org: UserOrganization, access_level: AccessScope) -> List[str]:
        """ì ‘ê·¼ ë²”ìœ„ì— ë”°ë¥¸ ëŒ€ìƒ ì»¨í…Œì´ë„ˆ ID ëª©ë¡ ë°˜í™˜"""
        if access_level == AccessScope.OWNER_ONLY:
            return [f"PERSONAL_{user_org.user_id}"]
        elif access_level == AccessScope.SAME_TEAM:
            return [user_org.team_container_id]
        elif access_level == AccessScope.SAME_DEPARTMENT:
            return [user_org.department_container_id]
        elif access_level == AccessScope.SAME_DIVISION:
            return [user_org.division_container_id]
        elif access_level == AccessScope.ALL_USERS:
            return ["ROOT"]
        else:
            return []
```

### 3.2 ì§€ì‹ìƒì„±ì ê¶Œí•œ ê´€ë¦¬ ê¸°ëŠ¥

#### 3.2.1 ì—…ë¡œë“œí•œ ë¬¸ì„œì˜ ê¶Œí•œ ìˆ˜ì •

```python
class CreatorPermissionManager:
    def update_document_permissions(self, document_id: str, creator_id: str, new_permissions: DocumentPermissions):
        """ì§€ì‹ìƒì„±ìê°€ ìì‹ ì´ ì—…ë¡œë“œí•œ ë¬¸ì„œì˜ ê¶Œí•œ ìˆ˜ì •"""
        
        # 1. ìƒì„±ì ê¶Œí•œ í™•ì¸
        if not self.is_document_creator(document_id, creator_id):
            raise PermissionDenied("ë¬¸ì„œ ìƒì„±ìë§Œ ê¶Œí•œì„ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
        
        # 2. ê¸°ì¡´ ê¶Œí•œ ì‚­ì œ
        self.revoke_all_document_permissions(document_id)
        
        # 3. ìƒˆë¡œìš´ ê¶Œí•œ ì„¤ì •
        self.apply_new_permissions(document_id, new_permissions, creator_id)
        
        # 4. ê¶Œí•œ ë³€ê²½ ì´ë ¥ ê¸°ë¡
        self.log_permission_change(document_id, creator_id, new_permissions)
```

#### 3.2.2 íŠ¹ì • ì‚¬ìš©ì/ê·¸ë£¹ì—ê²Œ ê¶Œí•œ ë¶€ì—¬

```python
def grant_specific_access(self, document_id: str, creator_id: str, 
                         target_users: List[str], permission_type: str):
    """íŠ¹ì • ì‚¬ìš©ìì—ê²Œ ë¬¸ì„œ ì ‘ê·¼ ê¶Œí•œ ë¶€ì—¬"""
    
    for target_user in target_users:
        # ê°œë³„ ì‚¬ìš©ì ê¶Œí•œ ë¶€ì—¬
        permission_record = ContainerPermission(
            container_id=self.get_document_container(document_id),
            user_id=target_user,
            permission_type=permission_type,
            is_inherited=False,
            granted_by=creator_id,
            resource_type='DOCUMENT',
            resource_id=document_id
        )
        self.db.save(permission_record)
```

## 4. ì§€ì‹ê´€ë¦¬ì (Knowledge Manager) ê¶Œí•œ ê´€ë¦¬ ì‹œë‚˜ë¦¬ì˜¤

### 4.1 ì§€ì‹ê´€ë¦¬ì ì—­í• ë³„ ê¶Œí•œ ë²”ìœ„

| ì—­í•            | ê¶Œí•œ ë²”ìœ„ | ì£¼ìš” ê¸°ëŠ¥                  | ê´€ë¦¬ ëŒ€ìƒ          |
| ------------ | ----- | ---------------------- | -------------- |
| **íŒ€ ì§€ì‹ê´€ë¦¬ì**  | íŒ€ ë ˆë²¨  | íŒ€ ë‚´ ë¬¸ì„œ í’ˆì§ˆ ê´€ë¦¬, ë¶„ë¥˜ ì²´ê³„ ê´€ë¦¬ | ì†Œì† íŒ€ ì»¨í…Œì´ë„ˆ      |
| **ë¶€ì„œ ì§€ì‹ê´€ë¦¬ì** | ë¶€ì„œ ë ˆë²¨ | ë¶€ì„œ ì§€ì‹ ì •ì±… ìˆ˜ë¦½, ì ‘ê·¼ ê¶Œí•œ ìŠ¹ì¸  | ì†Œì† ë¶€ì„œ + í•˜ìœ„ íŒ€ë“¤  |
| **ë³¸ë¶€ ì§€ì‹ê´€ë¦¬ì** | ë³¸ë¶€ ë ˆë²¨ | ë³¸ë¶€ ì§€ì‹ ì „ëµ ìˆ˜ë¦½, ë¶€ì„œê°„ í˜‘ì—… ê´€ë¦¬ | ì†Œì† ë³¸ë¶€ + í•˜ìœ„ ë¶€ì„œë“¤ |
| **ì „ì‚¬ ì§€ì‹ê´€ë¦¬ì** | ì „ì‚¬ ë ˆë²¨ | ì „ì‚¬ ì§€ì‹ ê±°ë²„ë„ŒìŠ¤, ë³´ì•ˆ ì •ì±… ìˆ˜ë¦½   | ì „ì²´ ì‹œìŠ¤í…œ         |

### 4.2 ì§€ì‹ê´€ë¦¬ì ê¶Œí•œ ê´€ë¦¬ ê¸°ëŠ¥

#### 4.2.1 ì»¨í…Œì´ë„ˆë³„ ì ‘ê·¼ ê¶Œí•œ ê´€ë¦¬

```python
class KnowledgeManagerPermissions:
    def manage_container_access(self, manager_id: str, container_id: str, 
                              permission_requests: List[PermissionRequest]):
        """ì§€ì‹ê´€ë¦¬ìì˜ ì»¨í…Œì´ë„ˆ ì ‘ê·¼ ê¶Œí•œ ê´€ë¦¬"""
        
        # 1. ì§€ì‹ê´€ë¦¬ì ê¶Œí•œ í™•ì¸
        manager_scope = self.get_manager_scope(manager_id)
        if not self.can_manage_container(manager_scope, container_id):
            raise PermissionDenied("í•´ë‹¹ ì»¨í…Œì´ë„ˆ ê´€ë¦¬ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.")
        
        # 2. ê° ê¶Œí•œ ìš”ì²­ ì²˜ë¦¬
        for request in permission_requests:
            if request.action == 'GRANT':
                self.grant_permission(request, manager_id)
            elif request.action == 'REVOKE':
                self.revoke_permission(request, manager_id)
            elif request.action == 'MODIFY':
                self.modify_permission(request, manager_id)
```

#### 4.2.2 ëŒ€ëŸ‰ ê¶Œí•œ ê´€ë¦¬

```python
def bulk_permission_management(self, manager_id: str, 
                             scope: ContainerScope, 
                             rule: PermissionRule):
    """ì¡°ì§ ê°œí¸ì´ë‚˜ í”„ë¡œì íŠ¸ ì‹œì‘ ì‹œ ëŒ€ëŸ‰ ê¶Œí•œ ì„¤ì •"""
    
    # ì˜ˆ: ì‹ ê·œ í”„ë¡œì íŠ¸ íŒ€ êµ¬ì„± ì‹œ
    if rule.rule_type == 'NEW_PROJECT_TEAM':
        # 1. í”„ë¡œì íŠ¸ ì»¨í…Œì´ë„ˆ ìƒì„±
        project_container = self.create_project_container(
            name=rule.project_name,
            parent_container=scope.department_container,
            manager_id=manager_id
        )
        
        # 2. í”„ë¡œì íŠ¸ íŒ€ì›ë“¤ì—ê²Œ ê¸°ë³¸ ê¶Œí•œ ë¶€ì—¬
        for member_id in rule.team_members:
            self.grant_project_permissions(project_container.id, member_id)
        
        # 3. í”„ë¡œì íŠ¸ ë¦¬ë”ì—ê²Œ ê´€ë¦¬ ê¶Œí•œ ë¶€ì—¬
        self.grant_manager_permissions(project_container.id, rule.project_leader)
```

## 5. ê¶Œí•œ í™•ì¸ í”„ë¡œì„¸ìŠ¤

### 5.1 íŒŒì¼ ì ‘ê·¼ ì‹œ ê¶Œí•œ í™•ì¸ ì•Œê³ ë¦¬ì¦˜

```python
class PermissionChecker:
    def check_file_access(self, user_id: str, file_id: str, action: str) -> bool:
        """íŒŒì¼ ì ‘ê·¼ ê¶Œí•œ í™•ì¸ (ê³„ì¸µì  ìƒì† ê³ ë ¤)"""
        
        # 1. ì§ì ‘ ê¶Œí•œ í™•ì¸
        direct_permission = self.check_direct_permission(user_id, file_id, action)
        if direct_permission.granted:
            return True
        
        # 2. íŒŒì¼ì´ ì†í•œ ì»¨í…Œì´ë„ˆì˜ ê¶Œí•œ í™•ì¸
        file_container = self.get_file_container(file_id)
        container_permission = self.check_container_permission(user_id, file_container.id, action)
        if container_permission.granted:
            return True
        
        # 3. ìƒìœ„ ì»¨í…Œì´ë„ˆì˜ ìƒì† ê¶Œí•œ í™•ì¸
        parent_containers = self.get_parent_containers_hierarchy(file_container.id)
        for parent_container in parent_containers:
            inherited_permission = self.check_inherited_permission(
                user_id, parent_container.id, action
            )
            if inherited_permission.granted and inherited_permission.is_inherited:
                return True
        
        # 4. ì—­í•  ê¸°ë°˜ ê¶Œí•œ í™•ì¸
        user_roles = self.get_user_roles(user_id, file_container.id)
        for role in user_roles:
            role_permission = self.check_role_permission(role.role_code, action, 'DOCUMENT')
            if role_permission.granted:
                return True
        
        return False
```

### 5.2 ê²€ìƒ‰ ì‹œ ê¶Œí•œ í•„í„°ë§

```python
class SearchPermissionFilter:
    def filter_search_results(self, user_id: str, search_results: List[SearchResult]) -> List[SearchResult]:
        """ê²€ìƒ‰ ê²°ê³¼ì—ì„œ ì ‘ê·¼ ê¶Œí•œì´ ìˆëŠ” ë¬¸ì„œë§Œ í•„í„°ë§"""
        
        filtered_results = []
        user_accessible_containers = self.get_user_accessible_containers(user_id)
        
        for result in search_results:
            # 1. ë¬¸ì„œê°€ ì†í•œ ì»¨í…Œì´ë„ˆ í™•ì¸
            document_container = self.get_document_container(result.document_id)
            
            # 2. ì‚¬ìš©ìê°€ ì ‘ê·¼ ê°€ëŠ¥í•œ ì»¨í…Œì´ë„ˆì¸ì§€ í™•ì¸
            if document_container.id in user_accessible_containers:
                # 3. ì„¸ë¶€ ê¶Œí•œ í™•ì¸ (ì½ê¸° ê¶Œí•œ)
                if self.check_file_access(user_id, result.document_id, 'READ'):
                    filtered_results.append(result)
        
        return filtered_results
```

## 6. ê¶Œí•œ ê´€ë¦¬ UI/UX ì‹œë‚˜ë¦¬ì˜¤

### 6.1 ì§€ì‹ìƒì„±ì UI ì‹œë‚˜ë¦¬ì˜¤

#### 6.1.1 íŒŒì¼ ì—…ë¡œë“œ ì‹œ ê¶Œí•œ ì„¤ì • í™”ë©´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“¤ íŒŒì¼ ì—…ë¡œë“œ - ì ‘ê·¼ ê¶Œí•œ ì„¤ì •                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  íŒŒì¼: ì±„ìš©ê°€ì´ë“œ.pdf                              â”‚
â”‚  ì¹´í…Œê³ ë¦¬: ì¸ì‚¬ > ì±„ìš©                             â”‚
â”‚                                                 â”‚
â”‚  ğŸ”’ ì ‘ê·¼ ë²”ìœ„ ì„¤ì •:                                â”‚
â”‚  â—‹ ë‚˜ë§Œ ë³´ê¸° (ë¹„ê³µê°œ)                              â”‚
â”‚  â— íŒ€ ê³µìœ  (ì±„ìš©íŒ€)                 ğŸ‘¥ 5ëª…         â”‚
â”‚  â—‹ ë¶€ì„œ ê³µìœ  (ì¸ì‚¬íŒ€)               ğŸ‘¥ 23ëª…        â”‚
â”‚  â—‹ ë³¸ë¶€ ê³µìœ  (ê²½ì˜ì§€ì›ë³¸ë¶€)         ğŸ‘¥ 89ëª…        â”‚
â”‚  â—‹ ì „ì‚¬ ê³µìœ  (ì „ì²´ ì§ì›)            ğŸ‘¥ 1,247ëª…     â”‚
â”‚                                                 â”‚
â”‚  ğŸ¯ ì„¸ë¶€ ê¶Œí•œ ì„¤ì •:                                â”‚
â”‚  âœ… ì½ê¸°    âœ… ë‹¤ìš´ë¡œë“œ    âŒ ëŒ“ê¸€    âŒ ì™¸ë¶€ê³µìœ      â”‚
â”‚                                                 â”‚
â”‚  ğŸ‘¤ íŠ¹ì • ì‚¬ìš©ì ì¶”ê°€:                              â”‚
â”‚  [ê²€ìƒ‰: ì´ë¦„ ë˜ëŠ” ì‚¬ë²ˆ]              [+ ì¶”ê°€]       â”‚
â”‚                                                 â”‚
â”‚  â° ê¶Œí•œ ë§Œë£Œ ì„¤ì •:                                â”‚
â”‚  â—‹ ë¬´ì œí•œ    â— 1ë…„    â—‹ ì‚¬ìš©ì ì§€ì •: [____]       â”‚
â”‚                                                 â”‚
â”‚         [ì·¨ì†Œ]              [ì—…ë¡œë“œ ë° ê¶Œí•œì„¤ì •]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 6.1.2 ì—…ë¡œë“œí•œ ë¬¸ì„œì˜ ê¶Œí•œ ìˆ˜ì • í™”ë©´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“„ ì±„ìš©ê°€ì´ë“œ.pdf - ê¶Œí•œ ê´€ë¦¬                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  í˜„ì¬ ì ‘ê·¼ ê¶Œí•œì (23ëª…):                           â”‚
â”‚                                                 â”‚
â”‚  ğŸ“ ì±„ìš©íŒ€ (5ëª…)               [ê¶Œí•œ: ì½ê¸°+ë‹¤ìš´ë¡œë“œ] â”‚
â”‚  ğŸ‘¤ ê¹€ì¸ì‚¬ (ì¸ì‚¬íŒ€ì¥)           [ê¶Œí•œ: ì „ì²´]        â”‚
â”‚  ğŸ‘¤ ë°•ê²½ì˜ (ë³¸ë¶€ì¥)            [ê¶Œí•œ: ì½ê¸°]         â”‚
â”‚                                                 â”‚
â”‚  ğŸ”„ ê¶Œí•œ ë³€ê²½ ìš”ì²­ (2ê±´):                           â”‚
â”‚  â€¢ ì´ì˜ì—… (ì˜ì—…íŒ€) - ì½ê¸° ê¶Œí•œ ìš”ì²­    [ìŠ¹ì¸/ê±°ë¶€]    â”‚
â”‚  â€¢ ë§ˆì¼€íŒ…íŒ€ - íŒ€ ì „ì²´ ì½ê¸° ê¶Œí•œ ìš”ì²­   [ìŠ¹ì¸/ê±°ë¶€]    â”‚
â”‚                                                 â”‚
â”‚  ğŸ“Š ì ‘ê·¼ í†µê³„ (ìµœê·¼ 30ì¼):                          â”‚
â”‚  ì¡°íšŒ: 47íšŒ  ë‹¤ìš´ë¡œë“œ: 12íšŒ  ëŒ“ê¸€: 3ê°œ             â”‚
â”‚                                                 â”‚
â”‚        [ê¶Œí•œ ì¶”ê°€]    [ëŒ€ëŸ‰ ê¶Œí•œ ìˆ˜ì •]    [ë‹«ê¸°]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 ì§€ì‹ê´€ë¦¬ì UI ì‹œë‚˜ë¦¬ì˜¤

#### 6.2.1 ì»¨í…Œì´ë„ˆ ê¶Œí•œ ê´€ë¦¬ ëŒ€ì‹œë³´ë“œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ—ï¸ ì¸ì‚¬íŒ€ ì§€ì‹ì»¨í…Œì´ë„ˆ ê´€ë¦¬ - ê¹€ì§€ì‹ (ë¶€ì„œ ì§€ì‹ê´€ë¦¬ì)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š ì»¨í…Œì´ë„ˆ í˜„í™©:                                              â”‚
â”‚  ì´ ë¬¸ì„œ: 1,247ê°œ  í™œì„± ì‚¬ìš©ì: 67ëª…  ëŒ€ê¸° ê¶Œí•œ ìš”ì²­: 8ê±´         â”‚
â”‚                                                               â”‚
â”‚  ğŸ“ í•˜ìœ„ ì»¨í…Œì´ë„ˆ êµ¬ì¡°:                                         â”‚
â”‚  â”œâ”€â”€ ğŸ“ ì±„ìš©íŒ€ (ë¬¸ì„œ 324ê°œ, ì‚¬ìš©ì 12ëª…)    [ê´€ë¦¬] [ê¶Œí•œë³´ê¸°]     â”‚
â”‚  â”œâ”€â”€ ğŸ“ êµìœ¡íŒ€ (ë¬¸ì„œ 198ê°œ, ì‚¬ìš©ì 8ëª…)     [ê´€ë¦¬] [ê¶Œí•œë³´ê¸°]     â”‚
â”‚  â”œâ”€â”€ ğŸ“ í‰ê°€íŒ€ (ë¬¸ì„œ 156ê°œ, ì‚¬ìš©ì 15ëª…)    [ê´€ë¦¬] [ê¶Œí•œë³´ê¸°]     â”‚
â”‚  â””â”€â”€ ğŸ“ ë³µë¦¬í›„ìƒíŒ€ (ë¬¸ì„œ 89ê°œ, ì‚¬ìš©ì 7ëª…)   [ê´€ë¦¬] [ê¶Œí•œë³´ê¸°]     â”‚
â”‚                                                               â”‚
â”‚  ğŸ”” ê¶Œí•œ ìš”ì²­ ëŒ€ê¸° ëª©ë¡:                                        â”‚
â”‚  â€¢ ì´ë§ˆì¼€íŒ… â†’ ì±„ìš©ê°€ì´ë“œ.pdf ì½ê¸° ê¶Œí•œ          [ìŠ¹ì¸] [ê±°ë¶€]     â”‚
â”‚  â€¢ ì˜ì—…íŒ€ â†’ ì¸ì‚¬í‰ê°€ì–‘ì‹.xlsx ì½ê¸° ê¶Œí•œ (íŒ€ ì „ì²´) [ìŠ¹ì¸] [ê±°ë¶€]     â”‚
â”‚  â€¢ ë°•ì‹ ì… â†’ êµìœ¡ìë£Œ í´ë” ì ‘ê·¼ ê¶Œí•œ             [ìŠ¹ì¸] [ê±°ë¶€]     â”‚
â”‚                                                               â”‚
â”‚  âš¡ ë¹ ë¥¸ ì‘ì—…:                                                â”‚
â”‚  [ì‹ ê·œ í”„ë¡œì íŠ¸ íŒ€ ê¶Œí•œ ì„¤ì •] [ë¶€ì„œ ì´ë™ì ê¶Œí•œ ì—…ë°ì´íŠ¸]          â”‚
â”‚  [ëŒ€ëŸ‰ ê¶Œí•œ ì¼ê´„ ë³€ê²½]        [ê¶Œí•œ ì •ì±… í…œí”Œë¦¿ ì ìš©]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 7. ê¶Œí•œ ê´€ë¦¬ ìë™í™” ì‹œë‚˜ë¦¬ì˜¤

### 7.1 SAP ì¡°ì§ë„ ì—°ë™ ìë™ ê¶Œí•œ ì—…ë°ì´íŠ¸

```python
class OrganizationSyncPermissionUpdater:
    def handle_organization_change(self, change_event: OrgChangeEvent):
        """SAP ì¡°ì§ë„ ë³€ê²½ ì‹œ ìë™ ê¶Œí•œ ì—…ë°ì´íŠ¸"""
        
        if change_event.type == 'EMPLOYEE_TRANSFER':
            # ì§ì› ë¶€ì„œ ì´ë™
            self.handle_employee_transfer(
                emp_no=change_event.emp_no,
                from_dept=change_event.from_dept,
                to_dept=change_event.to_dept
            )
        elif change_event.type == 'DEPARTMENT_REORGANIZATION':
            # ë¶€ì„œ ê°œí¸
            self.handle_department_merge_split(change_event)
        elif change_event.type == 'NEW_EMPLOYEE':
            # ì‹ ì…ì‚¬ì› ì…ì‚¬
            self.assign_default_permissions(change_event.emp_no)
```

### 7.2 í”„ë¡œì íŠ¸ ê¸°ë°˜ ì„ì‹œ ê¶Œí•œ ê´€ë¦¬

```python
def create_project_permissions(self, project_info: ProjectInfo):
    """í”„ë¡œì íŠ¸ ì‹œì‘ ì‹œ ì„ì‹œ ê¶Œí•œ ìë™ ì„¤ì •"""
    
    # 1. í”„ë¡œì íŠ¸ ì „ìš© ì»¨í…Œì´ë„ˆ ìƒì„±
    project_container = self.create_temporary_container(
        name=f"í”„ë¡œì íŠ¸_{project_info.name}",
        duration=project_info.duration,
        auto_cleanup=True
    )
    
    # 2. í”„ë¡œì íŠ¸ íŒ€ì›ë“¤ì—ê²Œ ì„ì‹œ ê¶Œí•œ ë¶€ì—¬
    for member in project_info.team_members:
        self.grant_temporary_permission(
            user_id=member.emp_no,
            container_id=project_container.id,
            permission_type='READ_WRITE',
            expires_at=project_info.end_date
        )
    
    # 3. í”„ë¡œì íŠ¸ ì¢…ë£Œ ì‹œ ìë™ ê¶Œí•œ ì •ë¦¬ ìŠ¤ì¼€ì¤„ë§
    self.schedule_permission_cleanup(project_container.id, project_info.end_date)
```

ì´ ìƒì„¸í•œ ê¶Œí•œ ê´€ë¦¬ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ í†µí•´ IPBridge ì‹œìŠ¤í…œì—ì„œëŠ” ì§€ì‹ìƒì„±ìì™€ ì§€ì‹ê´€ë¦¬ìê°€ ê°ìì˜ ì—­í• ì— ë§ëŠ” ì„¸ë¶„í™”ëœ ê¶Œí•œ ê´€ë¦¬ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆìœ¼ë©°, SAP ì¡°ì§ë„ì™€ ì—°ë™í•˜ì—¬ ìë™í™”ëœ ê¶Œí•œ ê´€ë¦¬ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.

## 8. í†µí•© ê¶Œí•œ ê´€ë¦¬ API êµ¬ì¡° (v1.0 ë¦¬íŒ©í† ë§)

### 8.1 ê¶Œí•œ ê´€ë¦¬ í†µí•© API

#### ğŸ” ê¶Œí•œ í™•ì¸ ë° ì¡°íšŒ API

```typescript
// ì‚¬ìš©ì ê¶Œí•œ í™•ì¸
GET /api/v1/permissions/check/{user_emp_no}/{container_id}
Response: {
  user_emp_no: string;
  container_id: string;
  permission_level: "ADMIN" | "MANAGER" | "EDITOR" | "VIEWER" | null;
  has_permission: boolean;
}

// ì ‘ê·¼ ê°€ëŠ¥í•œ ì»¨í…Œì´ë„ˆ ëª©ë¡
GET /api/v1/permissions/accessible-containers/{user_emp_no}
Response: {
  user_emp_no: string;
  containers: AccessibleContainer[];
  total_count: number;
}
```

#### âš¡ ê¶Œí•œ ë¶€ì—¬ ë° ì·¨ì†Œ API

```typescript
// ê¶Œí•œ ë¶€ì—¬ (ê´€ë¦¬ìë§Œ)
POST /api/v1/permissions/grant
Body: {
  user_emp_no: string;
  container_id: string;
  permission_level: "ADMIN" | "MANAGER" | "EDITOR" | "VIEWER";
  valid_until?: DateTime;
}

// ê¶Œí•œ ì·¨ì†Œ (ê´€ë¦¬ìë§Œ)
DELETE /api/v1/permissions/revoke/{user_emp_no}/{container_id}
```

### 8.2 ê¶Œí•œ ìš”ì²­ ì›Œí¬í”Œë¡œìš° API

#### ğŸ“ ê¶Œí•œ ìš”ì²­ ìƒì„± ë° ê´€ë¦¬

```typescript
// ê¶Œí•œ ìš”ì²­ ìƒì„±
POST /api/v1/permission-requests/create
Body: {
  container_id: string;
  requested_permission_level: "ADMIN" | "MANAGER" | "EDITOR" | "VIEWER";
  request_reason: string;
  business_justification?: string;
  expected_usage_period?: string;
  priority_level: "urgent" | "high" | "normal" | "low";
}

// ë‚´ ê¶Œí•œ ìš”ì²­ ì¡°íšŒ
GET /api/v1/permission-requests/my-requests?status={pending|approved|rejected}

// ëŒ€ê¸° ì¤‘ì¸ ìš”ì²­ ì¡°íšŒ (ê´€ë¦¬ììš©)
GET /api/v1/permission-requests/pending
```

#### âœ… ê¶Œí•œ ìš”ì²­ ìŠ¹ì¸/ê±°ë¶€

```typescript
// ê¶Œí•œ ìš”ì²­ ì²˜ë¦¬ (ê´€ë¦¬ìë§Œ)
POST /api/v1/permission-requests/{request_id}/approve
Body: {
  action: "approve" | "reject";
  reason?: string;
}
```

### 8.3 í†µí•© ëª¨ë‹ˆí„°ë§ ë° í†µê³„ API

#### ğŸ“Š ê¶Œí•œ ë° ìš”ì²­ í†µê³„

```typescript
// ê¶Œí•œ í†µê³„ (ê´€ë¦¬ììš©)
GET /api/v1/permissions/statistics
Response: {
  total_permissions: number;
  permissions_by_level: Record<PermissionLevel, number>;
  active_users: number;
  container_coverage: number;
}

// ê¶Œí•œ ìš”ì²­ í†µê³„ (ê´€ë¦¬ììš©)  
GET /api/v1/permission-requests/statistics
Response: {
  total_requests: number;
  requests_by_status: Record<RequestStatus, number>;
  avg_processing_time: number;
  pending_requests: number;
}
```

### 8.4 API í†µí•© íš¨ê³¼

#### ğŸ¯ ê°œì„ ì‚¬í•­

- **ë‹¨ì¼ íŒŒì¼ ê´€ë¦¬**: `permissions.py`ì—ì„œ ê¶Œí•œ ê´€ë¦¬ì™€ ìš”ì²­ ì›Œí¬í”Œë¡œìš° í†µí•©
- **ì¼ê´€ëœ ì¸ì¦**: ëª¨ë“  ê¶Œí•œ APIì—ì„œ ë™ì¼í•œ í† í° ê¸°ë°˜ ì¸ì¦ ì²´ê³„
- **ì—­í•  ê¸°ë°˜ ì ‘ê·¼**: ê´€ë¦¬ì ê¶Œí•œ í™•ì¸ì„ í†µí•œ ì„¸ë¶„í™”ëœ ê¶Œí•œ ì œì–´
- **ê°ì‚¬ ë¡œê¹…**: ëª¨ë“  ê¶Œí•œ ë³€ê²½ ì‚¬í•­ì— ëŒ€í•œ ìƒì„¸ ë¡œê·¸ ê¸°ë¡

#### ğŸ“ˆ ìš´ì˜ íš¨ìœ¨ì„±

- **í†µí•© ê´€ë¦¬**: ê¶Œí•œ ê´€ë¦¬ìê°€ ë‹¨ì¼ API ì„¸íŠ¸ë¡œ ëª¨ë“  ê¶Œí•œ ê´€ë¦¬ ì—…ë¬´ ìˆ˜í–‰
- **ìë™í™” ì§€ì›**: ê¶Œí•œ ìš”ì²­ ìŠ¹ì¸ í”„ë¡œì„¸ìŠ¤ì˜ ìë™í™” ê¸°ë°˜ ë§ˆë ¨
- **ëª¨ë‹ˆí„°ë§**: ì‹¤ì‹œê°„ ê¶Œí•œ í˜„í™© ë° ìš”ì²­ ìƒíƒœ ì¶”ì 
- **í™•ì¥ì„±**: í–¥í›„ ê³ ê¸‰ ê¶Œí•œ ê´€ë¦¬ ê¸°ëŠ¥ ì¶”ê°€ë¥¼ ìœ„í•œ ê²¬ê³ í•œ ê¸°ë°˜ êµ¬ì¶•