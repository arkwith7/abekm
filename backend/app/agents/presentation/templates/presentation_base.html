<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ presentation_title }}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://cdn.jsdelivr.net/gh/sun-typeface/SUIT/fonts/variable/woff2/SUIT-Variable.css" rel="stylesheet">
    <style>
        body {
            font-family: 'SUIT Variable', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }

        .slide-content {
            animation: fadeIn 0.4s ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(12px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>

<body class="bg-slate-900">
    <div id="presentation-container" class="w-full h-screen flex flex-col bg-slate-900">
        <div class="flex-1 bg-white m-4 rounded-2xl shadow-2xl overflow-hidden flex flex-col">
            <header id="slide-header" class="bg-gradient-to-r from-blue-700 to-blue-500 text-white p-6"></header>
            <main id="slide-content" class="flex-1 p-8 overflow-y-auto"></main>
        </div>

        <footer class="bg-slate-800 text-white p-4 flex items-center justify-between">
            <button id="prev-btn"
                class="flex items-center gap-2 px-4 py-2 bg-blue-600 rounded-lg disabled:bg-slate-600 disabled:cursor-not-allowed">
                <i data-lucide="chevron-left" class="w-5 h-5"></i>
                이전
            </button>
            <div id="slide-indicators" class="flex gap-2 overflow-x-auto max-w-xl"></div>
            <button id="next-btn"
                class="flex items-center gap-2 px-4 py-2 bg-blue-600 rounded-lg disabled:bg-slate-600 disabled:cursor-not-allowed">
                다음
                <i data-lucide="chevron-right" class="w-5 h-5"></i>
            </button>
        </footer>
        <div class="text-center text-slate-400 text-xs pb-3">키보드 방향키 ← → 로 슬라이드를 이동할 수 있습니다.</div>
    </div>

    <script>
        // Slides placeholder - replace at runtime or during generation
        const slides = window.__SLIDES__ || [];
        let currentIndex = 0;

        const headerEl = document.getElementById('slide-header');
        const contentEl = document.getElementById('slide-content');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const indicatorsEl = document.getElementById('slide-indicators');

        function createIndicators() {
            indicatorsEl.innerHTML = '';
            slides.forEach((_, idx) => {
                const dot = document.createElement('button');
                dot.className = 'w-3 h-3 rounded-full bg-slate-600 transition-colors hover:bg-blue-500';
                dot.title = `슬라이드 ${idx + 1}`;
                dot.addEventListener('click', () => {
                    currentIndex = idx;
                    renderSlide();
                });
                indicatorsEl.appendChild(dot);
            });
        }

        function updateIndicators() {
            const dots = indicatorsEl.querySelectorAll('button');
            dots.forEach((dot, idx) => {
                dot.classList.toggle('bg-blue-500', idx === currentIndex);
                dot.classList.toggle('bg-slate-600', idx !== currentIndex);
            });
        }

        function renderSlide() {
            const slide = slides[currentIndex];
            if (!slide) return;

            headerEl.innerHTML = slide.header || '';
            headerEl.style.display = slide.hideHeader ? 'none' : 'block';

            contentEl.innerHTML = `<div class="slide-content">${slide.body || ''}</div>`;

            prevBtn.disabled = currentIndex === 0;
            nextBtn.disabled = currentIndex === slides.length - 1;

            updateIndicators();
            if (window.lucide && typeof window.lucide.createIcons === 'function') {
                window.lucide.createIcons(contentEl);
                window.lucide.createIcons(headerEl);
                window.lucide.createIcons(prevBtn);
                window.lucide.createIcons(nextBtn);
            }
        }

        function showNext() {
            if (currentIndex < slides.length - 1) {
                currentIndex += 1;
                renderSlide();
            }
        }

        function showPrev() {
            if (currentIndex > 0) {
                currentIndex -= 1;
                renderSlide();
            }
        }

        prevBtn.addEventListener('click', showPrev);
        nextBtn.addEventListener('click', showNext);

        document.addEventListener('keydown', (event) => {
            if (event.key === 'ArrowRight' || event.key === 'PageDown') {
                showNext();
            }
            if (event.key === 'ArrowLeft' || event.key === 'PageUp') {
                showPrev();
            }
        });

        createIndicators();
        renderSlide();
    </script>
</body>

</html>